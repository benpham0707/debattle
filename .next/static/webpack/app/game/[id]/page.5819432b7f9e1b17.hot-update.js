"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/game/[id]/page",{

/***/ "(app-pages-browser)/./src/app/game/[id]/page.tsx":
/*!************************************!*\
  !*** ./src/app/game/[id]/page.tsx ***!
  \************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ GamePage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/navigation.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_navigation__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_roomService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/roomService */ \"(app-pages-browser)/./src/lib/roomService.ts\");\n/* harmony import */ var _lib_roleManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/roleManager */ \"(app-pages-browser)/./src/lib/roleManager.ts\");\n/* harmony import */ var _components_SideSelection__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../components/SideSelection */ \"(app-pages-browser)/./src/components/SideSelection.tsx\");\n/* harmony import */ var _components_OpeningPrep__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../components/OpeningPrep */ \"(app-pages-browser)/./src/components/OpeningPrep.tsx\");\n/* harmony import */ var _components_OpeningStatements__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../components/OpeningStatements */ \"(app-pages-browser)/./src/components/OpeningStatements.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\nfunction GamePage() {\n    var _params_id, _room_player_a_id, _room_player_b_id;\n    _s();\n    const params = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useParams)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const [room, setRoom] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [playerSession, setPlayerSession] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const roleInitialized = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const roomId = params.id;\n        // Debug current localStorage state\n        console.log(\"\\uD83C\\uDFAE GAME PAGE - Starting with roomId:\", roomId.slice(-8));\n        // Fetch room data and initialize role\n        const fetchRoom = async ()=>{\n            try {\n                const roomData = await _lib_roomService__WEBPACK_IMPORTED_MODULE_3__.roomService.getRoom(roomId);\n                if (roomData) {\n                    // Check if game is actually started\n                    if (roomData.status !== \"debating\") {\n                        console.log(\"Game not started, redirecting to room...\");\n                        router.push(\"/room/\".concat(roomId));\n                        return;\n                    }\n                    setRoom(roomData);\n                    // Initialize role using the bulletproof role manager (only once)\n                    if (!roleInitialized.current) {\n                        const session = await _lib_roleManager__WEBPACK_IMPORTED_MODULE_4__.roleManager.initializeRole(roomId, roomData);\n                        setPlayerSession(session);\n                        roleInitialized.current = true;\n                        // Ensure role is locked during game\n                        if (!session.isLocked) {\n                            _lib_roleManager__WEBPACK_IMPORTED_MODULE_4__.roleManager.lockRole(roomId);\n                        }\n                        console.log(\"\\uD83C\\uDFAD GAME PAGE - Role initialized and locked:\", {\n                            role: session.playerRole,\n                            sessionId: session.sessionId.slice(-8),\n                            isLocked: session.isLocked\n                        });\n                    }\n                } else {\n                    setError(\"Room not found\");\n                }\n            } catch (err) {\n                console.error(\"Error fetching room:\", err);\n                setError(\"Failed to load game\");\n            } finally{\n                setLoading(false);\n            }\n        };\n        fetchRoom();\n        // Subscribe to room updates for real-time game state\n        const subscription = _lib_roomService__WEBPACK_IMPORTED_MODULE_3__.roomService.subscribeToRoom(roomId, (updatedRoom)=>{\n            var _updatedRoom_player_a_id, _updatedRoom_player_b_id;\n            console.log(\"\\uD83C\\uDFAE GAME PAGE - Room updated:\", {\n                status: updatedRoom.status,\n                phase: updatedRoom.current_phase,\n                playerA: (_updatedRoom_player_a_id = updatedRoom.player_a_id) === null || _updatedRoom_player_a_id === void 0 ? void 0 : _updatedRoom_player_a_id.slice(-8),\n                playerB: (_updatedRoom_player_b_id = updatedRoom.player_b_id) === null || _updatedRoom_player_b_id === void 0 ? void 0 : _updatedRoom_player_b_id.slice(-8)\n            });\n            // CRITICAL: Never recalculate role on updates - role is locked during game\n            const currentSession = _lib_roleManager__WEBPACK_IMPORTED_MODULE_4__.roleManager.getCurrentSession();\n            if (currentSession && currentSession.roomId === roomId) {\n                console.log(\"\\uD83D\\uDD12 GAME PAGE - Maintaining locked role:\", currentSession.playerRole);\n                // Validate that our role is still consistent with room data\n                const expectedPlayerId = currentSession.playerRole === \"player_a\" ? updatedRoom.player_a_id : updatedRoom.player_b_id;\n                if (currentSession.playerRole !== \"spectator\" && expectedPlayerId !== currentSession.sessionId) {\n                    var _updatedRoom_player_a_id1, _updatedRoom_player_b_id1;\n                    console.error(\"\\uD83D\\uDEA8 GAME PAGE - Role consistency check failed!\", {\n                        myRole: currentSession.playerRole,\n                        mySessionId: currentSession.sessionId.slice(-8),\n                        expectedPlayerId: expectedPlayerId === null || expectedPlayerId === void 0 ? void 0 : expectedPlayerId.slice(-8),\n                        roomPlayerA: (_updatedRoom_player_a_id1 = updatedRoom.player_a_id) === null || _updatedRoom_player_a_id1 === void 0 ? void 0 : _updatedRoom_player_a_id1.slice(-8),\n                        roomPlayerB: (_updatedRoom_player_b_id1 = updatedRoom.player_b_id) === null || _updatedRoom_player_b_id1 === void 0 ? void 0 : _updatedRoom_player_b_id1.slice(-8)\n                    });\n                }\n            }\n            setRoom(updatedRoom);\n            // If game ends, redirect back to room\n            if (updatedRoom.status === \"finished\") {\n                router.push(\"/room/\".concat(roomId));\n            }\n        });\n        return ()=>{\n            subscription.unsubscribe();\n        };\n    }, [\n        params.id,\n        router\n    ]);\n    // Handle side selection\n    const handleSideSelected = async (side)=>{\n        if (!room || !playerSession) return;\n        try {\n            console.log(\"\\uD83D\\uDDF3️ \".concat(playerSession.playerRole, \" voting for \").concat(side));\n            await _lib_roomService__WEBPACK_IMPORTED_MODULE_3__.roomService.submitSideVote(room.id, side);\n            console.log(\"✅ Side vote submitted:\", side);\n        } catch (err) {\n            console.error(\"Error submitting side vote:\", err);\n            setError(err instanceof Error ? err.message : \"Failed to submit vote\");\n        }\n    };\n    const handleSideSelectionComplete = async (playerASide, playerBSide)=>{\n        console.log(\"\\uD83C\\uDFAF Side selection complete:\", {\n            playerASide,\n            playerBSide\n        });\n    // The room will automatically update via subscription when sides are finalized\n    };\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center min-h-screen\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-xl\",\n                children: \"Loading game...\"\n            }, void 0, false, {\n                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                lineNumber: 136,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n            lineNumber: 135,\n            columnNumber: 7\n        }, this);\n    }\n    if (error) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center min-h-screen\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-xl text-red-500\",\n                children: error\n            }, void 0, false, {\n                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                lineNumber: 144,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n            lineNumber: 143,\n            columnNumber: 7\n        }, this);\n    }\n    if (!room || !playerSession) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center min-h-screen\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-xl text-red-500\",\n                children: \"Game not found\"\n            }, void 0, false, {\n                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                lineNumber: 152,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n            lineNumber: 151,\n            columnNumber: 7\n        }, this);\n    }\n    // Show side selection component when in side_selection phase\n    if (room.current_phase === \"side_selection\" && playerSession.playerRole !== \"spectator\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_SideSelection__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n            topic: room.topic,\n            roomId: room.id,\n            playerRole: playerSession.playerRole,\n            onSideSelected: handleSideSelected,\n            onPhaseComplete: handleSideSelectionComplete\n        }, void 0, false, {\n            fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n            lineNumber: 160,\n            columnNumber: 7\n        }, this);\n    }\n    // Show opening prep component when in opening_prep phase\n    if (room.current_phase === \"opening_prep\" && playerSession.playerRole !== \"spectator\") {\n        const playerSide = playerSession.playerRole === \"player_a\" ? room.player_a_side : room.player_b_side;\n        const opponentSide = playerSession.playerRole === \"player_a\" ? room.player_b_side : room.player_a_side;\n        if (playerSide && opponentSide) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_OpeningPrep__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                topic: room.topic,\n                roomId: room.id,\n                playerRole: playerSession.playerRole,\n                playerSide: playerSide,\n                opponentSide: opponentSide,\n                room: room\n            }, void 0, false, {\n                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                lineNumber: 177,\n                columnNumber: 9\n            }, this);\n        }\n    }\n    // Show opening statements component when in opening phase\n    if (room.current_phase === \"opening\" && playerSession.playerRole !== \"spectator\") {\n        const playerSide = playerSession.playerRole === \"player_a\" ? room.player_a_side : room.player_b_side;\n        if (playerSide) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_OpeningStatements__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                topic: room.topic,\n                roomId: room.id,\n                playerRole: playerSession.playerRole,\n                playerSide: playerSide,\n                room: room\n            }, void 0, false, {\n                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                lineNumber: 195,\n                columnNumber: 9\n            }, this);\n        }\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-gray-900 text-white\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-gray-800 p-4 border-b border-gray-700\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"max-w-6xl mx-auto flex justify-between items-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                            className: \"text-xl font-bold\",\n                            children: \"\\uD83E\\uDDE0 DeBATTLE\"\n                        }, void 0, false, {\n                            fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                            lineNumber: 211,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-sm text-gray-400\",\n                            children: [\n                                \"Room: \",\n                                (_params_id = params.id) === null || _params_id === void 0 ? void 0 : _params_id.toString().slice(-8)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                            lineNumber: 212,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                    lineNumber: 210,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                lineNumber: 209,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"max-w-6xl mx-auto p-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-gray-900 border border-gray-700 rounded p-2 mb-4 text-xs font-mono\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    \"\\uD83C\\uDFAD Locked Role: \",\n                                    playerSession.playerRole\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                lineNumber: 222,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    \"\\uD83D\\uDD11 Session ID: \",\n                                    playerSession.sessionId.slice(-8)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                lineNumber: 223,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    \"\\uD83D\\uDD12 Role Locked: \",\n                                    playerSession.isLocked ? \"Yes\" : \"No\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                lineNumber: 224,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    \"\\uD83D\\uDC64 Room A: \",\n                                    ((_room_player_a_id = room.player_a_id) === null || _room_player_a_id === void 0 ? void 0 : _room_player_a_id.slice(-8)) || \"none\",\n                                    \" | Room B: \",\n                                    ((_room_player_b_id = room.player_b_id) === null || _room_player_b_id === void 0 ? void 0 : _room_player_b_id.slice(-8)) || \"none\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                lineNumber: 225,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    \"\\uD83C\\uDFAE Status: \",\n                                    room.status,\n                                    \" | Phase: \",\n                                    room.current_phase || \"none\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                lineNumber: 226,\n                                columnNumber: 11\n                            }, this),\n                            room.player_a_side && room.player_b_side && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    \"\\uD83C\\uDFAF Sides: A=\",\n                                    room.player_a_side,\n                                    \" | B=\",\n                                    room.player_b_side\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                lineNumber: 228,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                        lineNumber: 221,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-gray-800 rounded-lg p-6 mb-6 text-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-2xl font-bold mb-2\",\n                                children: \"Debate Topic\"\n                            }, void 0, false, {\n                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                lineNumber: 234,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xl text-blue-300\",\n                                children: room.topic\n                            }, void 0, false, {\n                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                lineNumber: 235,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4 text-sm text-gray-400\",\n                                children: [\n                                    \"Current Phase: \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"capitalize font-semibold text-white\",\n                                        children: room.current_phase || \"Loading\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                        lineNumber: 237,\n                                        columnNumber: 28\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                lineNumber: 236,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                        lineNumber: 233,\n                        columnNumber: 9\n                    }, this),\n                    room.player_a_side && room.player_b_side && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-blue-600 rounded-lg p-6 mb-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-xl font-bold text-center mb-4\",\n                                children: \"\\uD83C\\uDFAF Debate Sides\"\n                            }, void 0, false, {\n                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                lineNumber: 244,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"grid grid-cols-2 gap-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"p-4 rounded-lg text-center \".concat(room.player_a_side === \"pro\" ? \"bg-green-700\" : \"bg-red-700\", \" \").concat(playerSession.playerRole === \"player_a\" ? \"border-2 border-yellow-400\" : \"\"),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                className: \"font-semibold mb-2\",\n                                                children: [\n                                                    \"Player A \",\n                                                    playerSession.playerRole === \"player_a\" ? \"(You)\" : \"\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                                lineNumber: 249,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-2xl mb-2\",\n                                                children: room.player_a_side === \"pro\" ? \"✅\" : \"❌\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                                lineNumber: 252,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"font-bold\",\n                                                children: room.player_a_side.toUpperCase()\n                                            }, void 0, false, {\n                                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                                lineNumber: 255,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                        lineNumber: 246,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"p-4 rounded-lg text-center \".concat(room.player_b_side === \"pro\" ? \"bg-green-700\" : \"bg-red-700\", \" \").concat(playerSession.playerRole === \"player_b\" ? \"border-2 border-yellow-400\" : \"\"),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                className: \"font-semibold mb-2\",\n                                                children: [\n                                                    \"Player B \",\n                                                    playerSession.playerRole === \"player_b\" ? \"(You)\" : \"\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                                lineNumber: 262,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-2xl mb-2\",\n                                                children: room.player_b_side === \"pro\" ? \"✅\" : \"❌\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                                lineNumber: 265,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"font-bold\",\n                                                children: room.player_b_side.toUpperCase()\n                                            }, void 0, false, {\n                                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                                lineNumber: 268,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                        lineNumber: 259,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                lineNumber: 245,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                        lineNumber: 243,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-2 gap-6 mb-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"rounded-lg p-4 \".concat(playerSession.playerRole === \"player_a\" ? \"bg-blue-700 border-2 border-blue-400\" : \"bg-blue-700\"),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"font-semibold mb-2\",\n                                        children: [\n                                            \"Player A \",\n                                            playerSession.playerRole === \"player_a\" ? \"(You)\" : \"\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                        lineNumber: 283,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mb-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex justify-between text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"Health\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                                        lineNumber: 288,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: [\n                                                            room.player_a_health,\n                                                            \"/100\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                                        lineNumber: 289,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                                lineNumber: 287,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-full bg-gray-700 rounded-full h-3\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"bg-blue-400 h-3 rounded-full transition-all duration-300\",\n                                                    style: {\n                                                        width: \"\".concat(room.player_a_health, \"%\")\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                                    lineNumber: 292,\n                                                    columnNumber: 17\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                                lineNumber: 291,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                        lineNumber: 286,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                lineNumber: 278,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"rounded-lg p-4 \".concat(playerSession.playerRole === \"player_b\" ? \"bg-green-700 border-2 border-green-400\" : \"bg-green-700\"),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"font-semibold mb-2\",\n                                        children: [\n                                            \"Player B \",\n                                            playerSession.playerRole === \"player_b\" ? \"(You)\" : \"\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                        lineNumber: 305,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mb-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex justify-between text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"Health\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                                        lineNumber: 310,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: [\n                                                            room.player_b_health,\n                                                            \"/100\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                                        lineNumber: 311,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                                lineNumber: 309,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-full bg-gray-700 rounded-full h-3\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"bg-green-400 h-3 rounded-full transition-all duration-300\",\n                                                    style: {\n                                                        width: \"\".concat(room.player_b_health, \"%\")\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                                    lineNumber: 314,\n                                                    columnNumber: 17\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                                lineNumber: 313,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                        lineNumber: 308,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                lineNumber: 300,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                        lineNumber: 277,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-gray-800 rounded-lg p-6 mb-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-lg font-semibold mb-4\",\n                                children: \"\\uD83C\\uDFAE Debate Arena\"\n                            }, void 0, false, {\n                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                lineNumber: 325,\n                                columnNumber: 11\n                            }, this),\n                            room.current_phase === \"side_selection\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center py-12\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-4xl mb-4\",\n                                        children: \"⏰\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                        lineNumber: 329,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                        className: \"text-xl font-bold mb-2\",\n                                        children: \"Side Selection in Progress\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                        lineNumber: 330,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-gray-400\",\n                                        children: \"Players are choosing their debate sides...\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                        lineNumber: 331,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                lineNumber: 328,\n                                columnNumber: 13\n                            }, this) : room.current_phase === \"opening_prep\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center py-12\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-4xl mb-4\",\n                                        children: \"\\uD83D\\uDCDD\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                        lineNumber: 335,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                        className: \"text-xl font-bold mb-2\",\n                                        children: \"Opening Prep Phase\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                        lineNumber: 336,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-gray-400\",\n                                        children: \"Players are preparing their opening statements...\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                        lineNumber: 337,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                lineNumber: 334,\n                                columnNumber: 13\n                            }, this) : room.current_phase === \"opening\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center py-12\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-4xl mb-4\",\n                                        children: \"\\uD83C\\uDFA4\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                        lineNumber: 341,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                        className: \"text-xl font-bold mb-2\",\n                                        children: \"Opening Statements\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                        lineNumber: 342,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-gray-400\",\n                                        children: \"Players are delivering their opening arguments...\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                        lineNumber: 343,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                lineNumber: 340,\n                                columnNumber: 13\n                            }, this) : room.player_a_side && room.player_b_side ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center py-12\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-6xl mb-4\",\n                                        children: \"\\uD83D\\uDD25\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                        lineNumber: 347,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                        className: \"text-2xl font-bold mb-2\",\n                                        children: \"Debate Ready!\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                        lineNumber: 348,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-gray-400 mb-4\",\n                                        children: \"The debate interface will be implemented here\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                        lineNumber: 349,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-2 text-sm text-gray-500\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: \"• Real-time chat system\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                                lineNumber: 353,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: \"• Phase-based timers\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                                lineNumber: 354,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: \"• AI judging integration\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                                lineNumber: 355,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: \"• Turn-based argument system\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                                lineNumber: 356,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                        lineNumber: 352,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                lineNumber: 346,\n                                columnNumber: 13\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center py-12\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-4xl mb-4\",\n                                        children: \"⏳\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                        lineNumber: 361,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                        className: \"text-xl font-bold mb-2\",\n                                        children: \"Waiting for Setup\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                        lineNumber: 362,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-gray-400\",\n                                        children: \"Setting up the debate...\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                        lineNumber: 363,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                lineNumber: 360,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                        lineNumber: 324,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-x-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>router.push(\"/room/\".concat(params.id)),\n                                    className: \"btn-secondary\",\n                                    children: \"← Back to Room (for testing)\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                    lineNumber: 371,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>_lib_roleManager__WEBPACK_IMPORTED_MODULE_4__.roleManager.debugSession(room.id),\n                                    className: \"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\",\n                                    children: \"\\uD83D\\uDD0D Debug Role\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                    lineNumber: 377,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>{\n                                        var _room_player_a_id, _room_player_b_id;\n                                        console.log(\"\\uD83C\\uDFAD GAME PAGE - Current State:\");\n                                        console.log(\"   - Player Session:\", playerSession);\n                                        console.log(\"   - Room Status:\", room.status);\n                                        console.log(\"   - Room Phase:\", room.current_phase);\n                                        console.log(\"   - Room Player A:\", (_room_player_a_id = room.player_a_id) === null || _room_player_a_id === void 0 ? void 0 : _room_player_a_id.slice(-8));\n                                        console.log(\"   - Room Player B:\", (_room_player_b_id = room.player_b_id) === null || _room_player_b_id === void 0 ? void 0 : _room_player_b_id.slice(-8));\n                                    },\n                                    className: \"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors\",\n                                    children: \"\\uD83D\\uDCCA Log State\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                                    lineNumber: 383,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                            lineNumber: 370,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                        lineNumber: 369,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n                lineNumber: 219,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/page.tsx\",\n        lineNumber: 207,\n        columnNumber: 5\n    }, this);\n}\n_s(GamePage, \"siJPUOg47/ozD4JJpclhdlpDv9s=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useParams,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter\n    ];\n});\n_c = GamePage;\nvar _c;\n$RefreshReg$(_c, \"GamePage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvZ2FtZS9baWRdL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbUQ7QUFDRztBQUVQO0FBQ2U7QUFDRDtBQUNKO0FBQ1k7QUFFdEQsU0FBU1U7UUF5TUxDLFlBWVFDLG1CQUFrREE7O0lBcE4zRSxNQUFNRCxTQUFTUiwwREFBU0E7SUFDeEIsTUFBTVUsU0FBU1QsMERBQVNBO0lBQ3hCLE1BQU0sQ0FBQ1EsTUFBTUUsUUFBUSxHQUFHYiwrQ0FBUUEsQ0FBYztJQUM5QyxNQUFNLENBQUNjLFNBQVNDLFdBQVcsR0FBR2YsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDZ0IsT0FBT0MsU0FBUyxHQUFHakIsK0NBQVFBLENBQWdCO0lBQ2xELE1BQU0sQ0FBQ2tCLGVBQWVDLGlCQUFpQixHQUFHbkIsK0NBQVFBLENBQXVCO0lBRXpFLE1BQU1vQixrQkFBa0JuQiw2Q0FBTUEsQ0FBQztJQUUvQkYsZ0RBQVNBLENBQUM7UUFDUixNQUFNc0IsU0FBU1gsT0FBT1ksRUFBRTtRQUV4QixtQ0FBbUM7UUFDbkNDLFFBQVFDLEdBQUcsQ0FBQyxrREFBd0NILE9BQU9JLEtBQUssQ0FBQyxDQUFDO1FBRWxFLHNDQUFzQztRQUN0QyxNQUFNQyxZQUFZO1lBQ2hCLElBQUk7Z0JBQ0YsTUFBTUMsV0FBVyxNQUFNdkIseURBQVdBLENBQUN3QixPQUFPLENBQUNQO2dCQUMzQyxJQUFJTSxVQUFVO29CQUNaLG9DQUFvQztvQkFDcEMsSUFBSUEsU0FBU0UsTUFBTSxLQUFLLFlBQVk7d0JBQ2xDTixRQUFRQyxHQUFHLENBQUM7d0JBQ1paLE9BQU9rQixJQUFJLENBQUMsU0FBZ0IsT0FBUFQ7d0JBQ3JCO29CQUNGO29CQUNBUixRQUFRYztvQkFFUixpRUFBaUU7b0JBQ2pFLElBQUksQ0FBQ1AsZ0JBQWdCVyxPQUFPLEVBQUU7d0JBQzVCLE1BQU1DLFVBQVUsTUFBTTNCLHlEQUFXQSxDQUFDNEIsY0FBYyxDQUFDWixR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QjtvQ0FDQ0MsU0FBUyxJQUFNbEYseURBQVdBLENBQUNtRixZQUFZLENBQUM3RSxLQUFLVyxFQUFFO29DQUMvQzRDLFdBQVU7OENBQ1g7Ozs7Ozs4Q0FHRCw4REFBQ29CO29DQUNDQyxTQUFTOzRDQUs0QjVFLG1CQUNBQTt3Q0FMbkNZLFFBQVFDLEdBQUcsQ0FBQzt3Q0FDWkQsUUFBUUMsR0FBRyxDQUFDLHdCQUF3Qk47d0NBQ3BDSyxRQUFRQyxHQUFHLENBQUMscUJBQXFCYixLQUFLa0IsTUFBTTt3Q0FDNUNOLFFBQVFDLEdBQUcsQ0FBQyxvQkFBb0JiLEtBQUtpQyxhQUFhO3dDQUNsRHJCLFFBQVFDLEdBQUcsQ0FBQyx3QkFBdUJiLG9CQUFBQSxLQUFLbUMsV0FBVyxjQUFoQm5DLHdDQUFBQSxrQkFBa0JjLEtBQUssQ0FBQyxDQUFDO3dDQUM1REYsUUFBUUMsR0FBRyxDQUFDLHdCQUF1QmIsb0JBQUFBLEtBQUtxQyxXQUFXLGNBQWhCckMsd0NBQUFBLGtCQUFrQmMsS0FBSyxDQUFDLENBQUM7b0NBQzlEO29DQUNBeUMsV0FBVTs4Q0FDWDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRYjtHQXJZd0J6RDs7UUFDUFAsc0RBQVNBO1FBQ1RDLHNEQUFTQTs7O0tBRkZNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9hcHAvZ2FtZS9baWRdL3BhZ2UudHN4PzYxZmMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnXG5cbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZVJlZiB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgdXNlUGFyYW1zLCB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L25hdmlnYXRpb24nXG5pbXBvcnQgeyBSb29tIH0gZnJvbSAnQC9saWIvc3VwYWJhc2UnXG5pbXBvcnQgeyByb29tU2VydmljZSB9IGZyb20gJ0AvbGliL3Jvb21TZXJ2aWNlJ1xuaW1wb3J0IHsgcm9sZU1hbmFnZXIsIFBsYXllclNlc3Npb24gfSBmcm9tICdAL2xpYi9yb2xlTWFuYWdlcidcbmltcG9ydCBTaWRlU2VsZWN0aW9uIGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvU2lkZVNlbGVjdGlvbidcbmltcG9ydCBPcGVuaW5nUHJlcCBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL09wZW5pbmdQcmVwJ1xuaW1wb3J0IE9wZW5pbmdTdGF0ZW1lbnRzIGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvT3BlbmluZ1N0YXRlbWVudHMnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEdhbWVQYWdlKCkge1xuICBjb25zdCBwYXJhbXMgPSB1c2VQYXJhbXMoKVxuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKVxuICBjb25zdCBbcm9vbSwgc2V0Um9vbV0gPSB1c2VTdGF0ZTxSb29tIHwgbnVsbD4obnVsbClcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSlcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKVxuICBjb25zdCBbcGxheWVyU2Vzc2lvbiwgc2V0UGxheWVyU2Vzc2lvbl0gPSB1c2VTdGF0ZTxQbGF5ZXJTZXNzaW9uIHwgbnVsbD4obnVsbClcblxuICBjb25zdCByb2xlSW5pdGlhbGl6ZWQgPSB1c2VSZWYoZmFsc2UpXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCByb29tSWQgPSBwYXJhbXMuaWQgYXMgc3RyaW5nXG4gICAgXG4gICAgLy8gRGVidWcgY3VycmVudCBsb2NhbFN0b3JhZ2Ugc3RhdGVcbiAgICBjb25zb2xlLmxvZygn8J+OriBHQU1FIFBBR0UgLSBTdGFydGluZyB3aXRoIHJvb21JZDonLCByb29tSWQuc2xpY2UoLTgpKVxuICAgIFxuICAgIC8vIEZldGNoIHJvb20gZGF0YSBhbmQgaW5pdGlhbGl6ZSByb2xlXG4gICAgY29uc3QgZmV0Y2hSb29tID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgcm9vbURhdGEgPSBhd2FpdCByb29tU2VydmljZS5nZXRSb29tKHJvb21JZClcbiAgICAgICAgaWYgKHJvb21EYXRhKSB7XG4gICAgICAgICAgLy8gQ2hlY2sgaWYgZ2FtZSBpcyBhY3R1YWxseSBzdGFydGVkXG4gICAgICAgICAgaWYgKHJvb21EYXRhLnN0YXR1cyAhPT0gJ2RlYmF0aW5nJykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0dhbWUgbm90IHN0YXJ0ZWQsIHJlZGlyZWN0aW5nIHRvIHJvb20uLi4nKVxuICAgICAgICAgICAgcm91dGVyLnB1c2goYC9yb29tLyR7cm9vbUlkfWApXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0Um9vbShyb29tRGF0YSlcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBJbml0aWFsaXplIHJvbGUgdXNpbmcgdGhlIGJ1bGxldHByb29mIHJvbGUgbWFuYWdlciAob25seSBvbmNlKVxuICAgICAgICAgIGlmICghcm9sZUluaXRpYWxpemVkLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCByb2xlTWFuYWdlci5pbml0aWFsaXplUm9sZShyb29tSWQsIHJvb21EYXRhKVxuICAgICAgICAgICAgc2V0UGxheWVyU2Vzc2lvbihzZXNzaW9uKVxuICAgICAgICAgICAgcm9sZUluaXRpYWxpemVkLmN1cnJlbnQgPSB0cnVlXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEVuc3VyZSByb2xlIGlzIGxvY2tlZCBkdXJpbmcgZ2FtZVxuICAgICAgICAgICAgaWYgKCFzZXNzaW9uLmlzTG9ja2VkKSB7XG4gICAgICAgICAgICAgIHJvbGVNYW5hZ2VyLmxvY2tSb2xlKHJvb21JZClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq0gR0FNRSBQQUdFIC0gUm9sZSBpbml0aWFsaXplZCBhbmQgbG9ja2VkOicsIHtcbiAgICAgICAgICAgICAgcm9sZTogc2Vzc2lvbi5wbGF5ZXJSb2xlLFxuICAgICAgICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb24uc2Vzc2lvbklkLnNsaWNlKC04KSxcbiAgICAgICAgICAgICAgaXNMb2NrZWQ6IHNlc3Npb24uaXNMb2NrZWRcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldEVycm9yKCdSb29tIG5vdCBmb3VuZCcpXG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyByb29tOicsIGVycilcbiAgICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGdhbWUnKVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmZXRjaFJvb20oKVxuXG4gICAgLy8gU3Vic2NyaWJlIHRvIHJvb20gdXBkYXRlcyBmb3IgcmVhbC10aW1lIGdhbWUgc3RhdGVcbiAgICBjb25zdCBzdWJzY3JpcHRpb24gPSByb29tU2VydmljZS5zdWJzY3JpYmVUb1Jvb20ocm9vbUlkLCAodXBkYXRlZFJvb20pID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn46uIEdBTUUgUEFHRSAtIFJvb20gdXBkYXRlZDonLCB7XG4gICAgICAgIHN0YXR1czogdXBkYXRlZFJvb20uc3RhdHVzLFxuICAgICAgICBwaGFzZTogdXBkYXRlZFJvb20uY3VycmVudF9waGFzZSxcbiAgICAgICAgcGxheWVyQTogdXBkYXRlZFJvb20ucGxheWVyX2FfaWQ/LnNsaWNlKC04KSxcbiAgICAgICAgcGxheWVyQjogdXBkYXRlZFJvb20ucGxheWVyX2JfaWQ/LnNsaWNlKC04KVxuICAgICAgfSlcbiAgICAgIFxuICAgICAgLy8gQ1JJVElDQUw6IE5ldmVyIHJlY2FsY3VsYXRlIHJvbGUgb24gdXBkYXRlcyAtIHJvbGUgaXMgbG9ja2VkIGR1cmluZyBnYW1lXG4gICAgICBjb25zdCBjdXJyZW50U2Vzc2lvbiA9IHJvbGVNYW5hZ2VyLmdldEN1cnJlbnRTZXNzaW9uKClcbiAgICAgIGlmIChjdXJyZW50U2Vzc2lvbiAmJiBjdXJyZW50U2Vzc2lvbi5yb29tSWQgPT09IHJvb21JZCkge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UkiBHQU1FIFBBR0UgLSBNYWludGFpbmluZyBsb2NrZWQgcm9sZTonLCBjdXJyZW50U2Vzc2lvbi5wbGF5ZXJSb2xlKVxuICAgICAgICBcbiAgICAgICAgLy8gVmFsaWRhdGUgdGhhdCBvdXIgcm9sZSBpcyBzdGlsbCBjb25zaXN0ZW50IHdpdGggcm9vbSBkYXRhXG4gICAgICAgIGNvbnN0IGV4cGVjdGVkUGxheWVySWQgPSBjdXJyZW50U2Vzc2lvbi5wbGF5ZXJSb2xlID09PSAncGxheWVyX2EnIFxuICAgICAgICAgID8gdXBkYXRlZFJvb20ucGxheWVyX2FfaWQgXG4gICAgICAgICAgOiB1cGRhdGVkUm9vbS5wbGF5ZXJfYl9pZFxuICAgICAgICAgIFxuICAgICAgICBpZiAoY3VycmVudFNlc3Npb24ucGxheWVyUm9sZSAhPT0gJ3NwZWN0YXRvcicgJiYgZXhwZWN0ZWRQbGF5ZXJJZCAhPT0gY3VycmVudFNlc3Npb24uc2Vzc2lvbklkKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcign8J+aqCBHQU1FIFBBR0UgLSBSb2xlIGNvbnNpc3RlbmN5IGNoZWNrIGZhaWxlZCEnLCB7XG4gICAgICAgICAgICBteVJvbGU6IGN1cnJlbnRTZXNzaW9uLnBsYXllclJvbGUsXG4gICAgICAgICAgICBteVNlc3Npb25JZDogY3VycmVudFNlc3Npb24uc2Vzc2lvbklkLnNsaWNlKC04KSxcbiAgICAgICAgICAgIGV4cGVjdGVkUGxheWVySWQ6IGV4cGVjdGVkUGxheWVySWQ/LnNsaWNlKC04KSxcbiAgICAgICAgICAgIHJvb21QbGF5ZXJBOiB1cGRhdGVkUm9vbS5wbGF5ZXJfYV9pZD8uc2xpY2UoLTgpLFxuICAgICAgICAgICAgcm9vbVBsYXllckI6IHVwZGF0ZWRSb29tLnBsYXllcl9iX2lkPy5zbGljZSgtOClcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIHNldFJvb20odXBkYXRlZFJvb20pXG4gICAgICBcbiAgICAgIC8vIElmIGdhbWUgZW5kcywgcmVkaXJlY3QgYmFjayB0byByb29tXG4gICAgICBpZiAodXBkYXRlZFJvb20uc3RhdHVzID09PSAnZmluaXNoZWQnKSB7XG4gICAgICAgIHJvdXRlci5wdXNoKGAvcm9vbS8ke3Jvb21JZH1gKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKClcbiAgICB9XG4gIH0sIFtwYXJhbXMuaWQsIHJvdXRlcl0pXG5cbiAgLy8gSGFuZGxlIHNpZGUgc2VsZWN0aW9uXG4gIGNvbnN0IGhhbmRsZVNpZGVTZWxlY3RlZCA9IGFzeW5jIChzaWRlOiAncHJvJyB8ICdjb24nKSA9PiB7XG4gICAgaWYgKCFyb29tIHx8ICFwbGF5ZXJTZXNzaW9uKSByZXR1cm5cbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coYPCfl7PvuI8gJHtwbGF5ZXJTZXNzaW9uLnBsYXllclJvbGV9IHZvdGluZyBmb3IgJHtzaWRlfWApXG4gICAgICBhd2FpdCByb29tU2VydmljZS5zdWJtaXRTaWRlVm90ZShyb29tLmlkLCBzaWRlKVxuICAgICAgY29uc29sZS5sb2coJ+KchSBTaWRlIHZvdGUgc3VibWl0dGVkOicsIHNpZGUpXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzdWJtaXR0aW5nIHNpZGUgdm90ZTonLCBlcnIpXG4gICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBzdWJtaXQgdm90ZScpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgaGFuZGxlU2lkZVNlbGVjdGlvbkNvbXBsZXRlID0gYXN5bmMgKHBsYXllckFTaWRlOiAncHJvJyB8ICdjb24nLCBwbGF5ZXJCU2lkZTogJ3BybycgfCAnY29uJykgPT4ge1xuICAgIGNvbnNvbGUubG9nKCfwn46vIFNpZGUgc2VsZWN0aW9uIGNvbXBsZXRlOicsIHsgcGxheWVyQVNpZGUsIHBsYXllckJTaWRlIH0pXG4gICAgLy8gVGhlIHJvb20gd2lsbCBhdXRvbWF0aWNhbGx5IHVwZGF0ZSB2aWEgc3Vic2NyaXB0aW9uIHdoZW4gc2lkZXMgYXJlIGZpbmFsaXplZFxuICB9XG5cbiAgaWYgKGxvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtaW4taC1zY3JlZW5cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhsXCI+TG9hZGluZyBnYW1lLi4uPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICBpZiAoZXJyb3IpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtaW4taC1zY3JlZW5cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhsIHRleHQtcmVkLTUwMFwiPntlcnJvcn08L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIGlmICghcm9vbSB8fCAhcGxheWVyU2Vzc2lvbikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1pbi1oLXNjcmVlblwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteGwgdGV4dC1yZWQtNTAwXCI+R2FtZSBub3QgZm91bmQ8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIC8vIFNob3cgc2lkZSBzZWxlY3Rpb24gY29tcG9uZW50IHdoZW4gaW4gc2lkZV9zZWxlY3Rpb24gcGhhc2VcbiAgaWYgKHJvb20uY3VycmVudF9waGFzZSA9PT0gJ3NpZGVfc2VsZWN0aW9uJyAmJiBwbGF5ZXJTZXNzaW9uLnBsYXllclJvbGUgIT09ICdzcGVjdGF0b3InKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxTaWRlU2VsZWN0aW9uXG4gICAgICAgIHRvcGljPXtyb29tLnRvcGljfVxuICAgICAgICByb29tSWQ9e3Jvb20uaWR9XG4gICAgICAgIHBsYXllclJvbGU9e3BsYXllclNlc3Npb24ucGxheWVyUm9sZX1cbiAgICAgICAgb25TaWRlU2VsZWN0ZWQ9e2hhbmRsZVNpZGVTZWxlY3RlZH1cbiAgICAgICAgb25QaGFzZUNvbXBsZXRlPXtoYW5kbGVTaWRlU2VsZWN0aW9uQ29tcGxldGV9XG4gICAgICAvPlxuICAgIClcbiAgfVxuXG4gIC8vIFNob3cgb3BlbmluZyBwcmVwIGNvbXBvbmVudCB3aGVuIGluIG9wZW5pbmdfcHJlcCBwaGFzZVxuICBpZiAocm9vbS5jdXJyZW50X3BoYXNlID09PSAnb3BlbmluZ19wcmVwJyAmJiBwbGF5ZXJTZXNzaW9uLnBsYXllclJvbGUgIT09ICdzcGVjdGF0b3InKSB7XG4gICAgY29uc3QgcGxheWVyU2lkZSA9IHBsYXllclNlc3Npb24ucGxheWVyUm9sZSA9PT0gJ3BsYXllcl9hJyA/IHJvb20ucGxheWVyX2Ffc2lkZSA6IHJvb20ucGxheWVyX2Jfc2lkZVxuICAgIGNvbnN0IG9wcG9uZW50U2lkZSA9IHBsYXllclNlc3Npb24ucGxheWVyUm9sZSA9PT0gJ3BsYXllcl9hJyA/IHJvb20ucGxheWVyX2Jfc2lkZSA6IHJvb20ucGxheWVyX2Ffc2lkZVxuICAgIFxuICAgIGlmIChwbGF5ZXJTaWRlICYmIG9wcG9uZW50U2lkZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPE9wZW5pbmdQcmVwXG4gICAgICAgICAgdG9waWM9e3Jvb20udG9waWN9XG4gICAgICAgICAgcm9vbUlkPXtyb29tLmlkfVxuICAgICAgICAgIHBsYXllclJvbGU9e3BsYXllclNlc3Npb24ucGxheWVyUm9sZX1cbiAgICAgICAgICBwbGF5ZXJTaWRlPXtwbGF5ZXJTaWRlfVxuICAgICAgICAgIG9wcG9uZW50U2lkZT17b3Bwb25lbnRTaWRlfVxuICAgICAgICAgIHJvb209e3Jvb219XG4gICAgICAgIC8+XG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgLy8gU2hvdyBvcGVuaW5nIHN0YXRlbWVudHMgY29tcG9uZW50IHdoZW4gaW4gb3BlbmluZyBwaGFzZVxuICBpZiAocm9vbS5jdXJyZW50X3BoYXNlID09PSAnb3BlbmluZycgJiYgcGxheWVyU2Vzc2lvbi5wbGF5ZXJSb2xlICE9PSAnc3BlY3RhdG9yJykge1xuICAgIGNvbnN0IHBsYXllclNpZGUgPSBwbGF5ZXJTZXNzaW9uLnBsYXllclJvbGUgPT09ICdwbGF5ZXJfYScgPyByb29tLnBsYXllcl9hX3NpZGUgOiByb29tLnBsYXllcl9iX3NpZGVcbiAgICBcbiAgICBpZiAocGxheWVyU2lkZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPE9wZW5pbmdTdGF0ZW1lbnRzXG4gICAgICAgICAgdG9waWM9e3Jvb20udG9waWN9XG4gICAgICAgICAgcm9vbUlkPXtyb29tLmlkfVxuICAgICAgICAgIHBsYXllclJvbGU9e3BsYXllclNlc3Npb24ucGxheWVyUm9sZX1cbiAgICAgICAgICBwbGF5ZXJTaWRlPXtwbGF5ZXJTaWRlfVxuICAgICAgICAgIHJvb209e3Jvb219XG4gICAgICAgIC8+XG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlXCI+XG4gICAgICB7LyogSGVhZGVyICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTgwMCBwLTQgYm9yZGVyLWIgYm9yZGVyLWdyYXktNzAwXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNnhsIG14LWF1dG8gZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkXCI+8J+noCBEZUJBVFRMRTwvaDE+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgIFJvb206IHtwYXJhbXMuaWQ/LnRvU3RyaW5nKCkuc2xpY2UoLTgpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogR2FtZSBDb250ZW50ICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy02eGwgbXgtYXV0byBwLTZcIj5cbiAgICAgICAgey8qIERlYnVnIEluZm8gLSBTaG93cyBzdGFibGUgcm9sZSBpcyBtYWludGFpbmVkICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktOTAwIGJvcmRlciBib3JkZXItZ3JheS03MDAgcm91bmRlZCBwLTIgbWItNCB0ZXh0LXhzIGZvbnQtbW9ub1wiPlxuICAgICAgICAgIDxkaXY+8J+OrSBMb2NrZWQgUm9sZToge3BsYXllclNlc3Npb24ucGxheWVyUm9sZX08L2Rpdj5cbiAgICAgICAgICA8ZGl2PvCflJEgU2Vzc2lvbiBJRDoge3BsYXllclNlc3Npb24uc2Vzc2lvbklkLnNsaWNlKC04KX08L2Rpdj5cbiAgICAgICAgICA8ZGl2PvCflJIgUm9sZSBMb2NrZWQ6IHtwbGF5ZXJTZXNzaW9uLmlzTG9ja2VkID8gJ1llcycgOiAnTm8nfTwvZGl2PlxuICAgICAgICAgIDxkaXY+8J+RpCBSb29tIEE6IHtyb29tLnBsYXllcl9hX2lkPy5zbGljZSgtOCkgfHwgJ25vbmUnfSB8IFJvb20gQjoge3Jvb20ucGxheWVyX2JfaWQ/LnNsaWNlKC04KSB8fCAnbm9uZSd9PC9kaXY+XG4gICAgICAgICAgPGRpdj7wn46uIFN0YXR1czoge3Jvb20uc3RhdHVzfSB8IFBoYXNlOiB7cm9vbS5jdXJyZW50X3BoYXNlIHx8ICdub25lJ308L2Rpdj5cbiAgICAgICAgICB7cm9vbS5wbGF5ZXJfYV9zaWRlICYmIHJvb20ucGxheWVyX2Jfc2lkZSAmJiAoXG4gICAgICAgICAgICA8ZGl2PvCfjq8gU2lkZXM6IEE9e3Jvb20ucGxheWVyX2Ffc2lkZX0gfCBCPXtyb29tLnBsYXllcl9iX3NpZGV9PC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIFRvcGljIERpc3BsYXkgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS04MDAgcm91bmRlZC1sZyBwLTYgbWItNiB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgbWItMlwiPkRlYmF0ZSBUb3BpYzwvaDI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14bCB0ZXh0LWJsdWUtMzAwXCI+e3Jvb20udG9waWN9PC9wPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCB0ZXh0LXNtIHRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgIEN1cnJlbnQgUGhhc2U6IDxzcGFuIGNsYXNzTmFtZT1cImNhcGl0YWxpemUgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlXCI+e3Jvb20uY3VycmVudF9waGFzZSB8fCAnTG9hZGluZyd9PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogU2lkZSBBc3NpZ25tZW50cyAoaWYgY29tcGxldGVkKSAqL31cbiAgICAgICAge3Jvb20ucGxheWVyX2Ffc2lkZSAmJiByb29tLnBsYXllcl9iX3NpZGUgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctYmx1ZS02MDAgcm91bmRlZC1sZyBwLTYgbWItNlwiPlxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtY2VudGVyIG1iLTRcIj7wn46vIERlYmF0ZSBTaWRlczwvaDI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTRcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BwLTQgcm91bmRlZC1sZyB0ZXh0LWNlbnRlciAke1xuICAgICAgICAgICAgICAgIHJvb20ucGxheWVyX2Ffc2lkZSA9PT0gJ3BybycgPyAnYmctZ3JlZW4tNzAwJyA6ICdiZy1yZWQtNzAwJ1xuICAgICAgICAgICAgICB9ICR7cGxheWVyU2Vzc2lvbi5wbGF5ZXJSb2xlID09PSAncGxheWVyX2EnID8gJ2JvcmRlci0yIGJvcmRlci15ZWxsb3ctNDAwJyA6ICcnfWB9PlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgIFBsYXllciBBIHtwbGF5ZXJTZXNzaW9uLnBsYXllclJvbGUgPT09ICdwbGF5ZXJfYScgPyAnKFlvdSknIDogJyd9XG4gICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtMnhsIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgIHtyb29tLnBsYXllcl9hX3NpZGUgPT09ICdwcm8nID8gJ+KchScgOiAn4p2MJ31cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtYm9sZFwiPlxuICAgICAgICAgICAgICAgICAge3Jvb20ucGxheWVyX2Ffc2lkZS50b1VwcGVyQ2FzZSgpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BwLTQgcm91bmRlZC1sZyB0ZXh0LWNlbnRlciAke1xuICAgICAgICAgICAgICAgIHJvb20ucGxheWVyX2Jfc2lkZSA9PT0gJ3BybycgPyAnYmctZ3JlZW4tNzAwJyA6ICdiZy1yZWQtNzAwJ1xuICAgICAgICAgICAgICB9ICR7cGxheWVyU2Vzc2lvbi5wbGF5ZXJSb2xlID09PSAncGxheWVyX2InID8gJ2JvcmRlci0yIGJvcmRlci15ZWxsb3ctNDAwJyA6ICcnfWB9PlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgIFBsYXllciBCIHtwbGF5ZXJTZXNzaW9uLnBsYXllclJvbGUgPT09ICdwbGF5ZXJfYicgPyAnKFlvdSknIDogJyd9XG4gICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtMnhsIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgIHtyb29tLnBsYXllcl9iX3NpZGUgPT09ICdwcm8nID8gJ+KchScgOiAn4p2MJ31cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtYm9sZFwiPlxuICAgICAgICAgICAgICAgICAge3Jvb20ucGxheWVyX2Jfc2lkZS50b1VwcGVyQ2FzZSgpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiBQbGF5ZXJzIEhlYWx0aCBCYXIgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtNiBtYi02XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Byb3VuZGVkLWxnIHAtNCAke1xuICAgICAgICAgICAgcGxheWVyU2Vzc2lvbi5wbGF5ZXJSb2xlID09PSAncGxheWVyX2EnIFxuICAgICAgICAgICAgICA/ICdiZy1ibHVlLTcwMCBib3JkZXItMiBib3JkZXItYmx1ZS00MDAnIFxuICAgICAgICAgICAgICA6ICdiZy1ibHVlLTcwMCdcbiAgICAgICAgICB9YH0+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgIFBsYXllciBBIHtwbGF5ZXJTZXNzaW9uLnBsYXllclJvbGUgPT09ICdwbGF5ZXJfYScgPyAnKFlvdSknIDogJyd9XG4gICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi0yXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPkhlYWx0aDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3Bhbj57cm9vbS5wbGF5ZXJfYV9oZWFsdGh9LzEwMDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyYXktNzAwIHJvdW5kZWQtZnVsbCBoLTNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctYmx1ZS00MDAgaC0zIHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDBcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAke3Jvb20ucGxheWVyX2FfaGVhbHRofSVgIH19XG4gICAgICAgICAgICAgICAgPjwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Byb3VuZGVkLWxnIHAtNCAke1xuICAgICAgICAgICAgcGxheWVyU2Vzc2lvbi5wbGF5ZXJSb2xlID09PSAncGxheWVyX2InIFxuICAgICAgICAgICAgICA/ICdiZy1ncmVlbi03MDAgYm9yZGVyLTIgYm9yZGVyLWdyZWVuLTQwMCcgXG4gICAgICAgICAgICAgIDogJ2JnLWdyZWVuLTcwMCdcbiAgICAgICAgICB9YH0+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+XG4gICAgICAgICAgICAgIFBsYXllciBCIHtwbGF5ZXJTZXNzaW9uLnBsYXllclJvbGUgPT09ICdwbGF5ZXJfYicgPyAnKFlvdSknIDogJyd9XG4gICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi0yXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPkhlYWx0aDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3Bhbj57cm9vbS5wbGF5ZXJfYl9oZWFsdGh9LzEwMDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyYXktNzAwIHJvdW5kZWQtZnVsbCBoLTNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctZ3JlZW4tNDAwIGgtMyByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwXCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgJHtyb29tLnBsYXllcl9iX2hlYWx0aH0lYCB9fVxuICAgICAgICAgICAgICAgID48L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIEdhbWUgSW50ZXJmYWNlICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktODAwIHJvdW5kZWQtbGcgcC02IG1iLTZcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIG1iLTRcIj7wn46uIERlYmF0ZSBBcmVuYTwvaDM+XG4gICAgICAgICAgXG4gICAgICAgICAge3Jvb20uY3VycmVudF9waGFzZSA9PT0gJ3NpZGVfc2VsZWN0aW9uJyA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHktMTJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTR4bCBtYi00XCI+4o+wPC9kaXY+XG4gICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCBtYi0yXCI+U2lkZSBTZWxlY3Rpb24gaW4gUHJvZ3Jlc3M8L2g0PlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+UGxheWVycyBhcmUgY2hvb3NpbmcgdGhlaXIgZGViYXRlIHNpZGVzLi4uPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IHJvb20uY3VycmVudF9waGFzZSA9PT0gJ29wZW5pbmdfcHJlcCcgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTEyXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC00eGwgbWItNFwiPvCfk508L2Rpdj5cbiAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIG1iLTJcIj5PcGVuaW5nIFByZXAgUGhhc2U8L2g0PlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+UGxheWVycyBhcmUgcHJlcGFyaW5nIHRoZWlyIG9wZW5pbmcgc3RhdGVtZW50cy4uLjwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkgOiByb29tLmN1cnJlbnRfcGhhc2UgPT09ICdvcGVuaW5nJyA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHktMTJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTR4bCBtYi00XCI+8J+OpDwvZGl2PlxuICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgbWItMlwiPk9wZW5pbmcgU3RhdGVtZW50czwvaDQ+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5QbGF5ZXJzIGFyZSBkZWxpdmVyaW5nIHRoZWlyIG9wZW5pbmcgYXJndW1lbnRzLi4uPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IHJvb20ucGxheWVyX2Ffc2lkZSAmJiByb29tLnBsYXllcl9iX3NpZGUgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTEyXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC02eGwgbWItNFwiPvCflKU8L2Rpdj5cbiAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCBtYi0yXCI+RGViYXRlIFJlYWR5ITwvaDQ+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgbWItNFwiPlxuICAgICAgICAgICAgICAgIFRoZSBkZWJhdGUgaW50ZXJmYWNlIHdpbGwgYmUgaW1wbGVtZW50ZWQgaGVyZVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yIHRleHQtc20gdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgIDxwPuKAoiBSZWFsLXRpbWUgY2hhdCBzeXN0ZW08L3A+XG4gICAgICAgICAgICAgICAgPHA+4oCiIFBoYXNlLWJhc2VkIHRpbWVyczwvcD5cbiAgICAgICAgICAgICAgICA8cD7igKIgQUkganVkZ2luZyBpbnRlZ3JhdGlvbjwvcD5cbiAgICAgICAgICAgICAgICA8cD7igKIgVHVybi1iYXNlZCBhcmd1bWVudCBzeXN0ZW08L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHktMTJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTR4bCBtYi00XCI+4o+zPC9kaXY+XG4gICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCBtYi0yXCI+V2FpdGluZyBmb3IgU2V0dXA8L2g0PlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+U2V0dGluZyB1cCB0aGUgZGViYXRlLi4uPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIERlYnVnIGFuZCBUZXN0aW5nIENvbnRyb2xzICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS14LTRcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcm91dGVyLnB1c2goYC9yb29tLyR7cGFyYW1zLmlkfWApfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tc2Vjb25kYXJ5XCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAg4oaQIEJhY2sgdG8gUm9vbSAoZm9yIHRlc3RpbmcpXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcm9sZU1hbmFnZXIuZGVidWdTZXNzaW9uKHJvb20uaWQpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctYmx1ZS02MDAgdGV4dC13aGl0ZSByb3VuZGVkLWxnIGhvdmVyOmJnLWJsdWUtNzAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAg8J+UjSBEZWJ1ZyBSb2xlXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn46tIEdBTUUgUEFHRSAtIEN1cnJlbnQgU3RhdGU6JylcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnICAgLSBQbGF5ZXIgU2Vzc2lvbjonLCBwbGF5ZXJTZXNzaW9uKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCcgICAtIFJvb20gU3RhdHVzOicsIHJvb20uc3RhdHVzKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCcgICAtIFJvb20gUGhhc2U6Jywgcm9vbS5jdXJyZW50X3BoYXNlKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCcgICAtIFJvb20gUGxheWVyIEE6Jywgcm9vbS5wbGF5ZXJfYV9pZD8uc2xpY2UoLTgpKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCcgICAtIFJvb20gUGxheWVyIEI6Jywgcm9vbS5wbGF5ZXJfYl9pZD8uc2xpY2UoLTgpKVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctcHVycGxlLTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbGcgaG92ZXI6YmctcHVycGxlLTcwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIPCfk4ogTG9nIFN0YXRlXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufSJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZVBhcmFtcyIsInVzZVJvdXRlciIsInJvb21TZXJ2aWNlIiwicm9sZU1hbmFnZXIiLCJTaWRlU2VsZWN0aW9uIiwiT3BlbmluZ1ByZXAiLCJPcGVuaW5nU3RhdGVtZW50cyIsIkdhbWVQYWdlIiwicGFyYW1zIiwicm9vbSIsInJvdXRlciIsInNldFJvb20iLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJwbGF5ZXJTZXNzaW9uIiwic2V0UGxheWVyU2Vzc2lvbiIsInJvbGVJbml0aWFsaXplZCIsInJvb21JZCIsImlkIiwiY29uc29sZSIsImxvZyIsInNsaWNlIiwiZmV0Y2hSb29tIiwicm9vbURhdGEiLCJnZXRSb29tIiwic3RhdHVzIiwicHVzaCIsImN1cnJlbnQiLCJzZXNzaW9uIiwiaW5pdGlhbGl6ZVJvbGUiLCJpc0xvY2tlZCIsImxvY2tSb2xlIiwicm9sZSIsInBsYXllclJvbGUiLCJzZXNzaW9uSWQiLCJlcnIiLCJzdWJzY3JpcHRpb24iLCJzdWJzY3JpYmVUb1Jvb20iLCJ1cGRhdGVkUm9vbSIsInBoYXNlIiwiY3VycmVudF9waGFzZSIsInBsYXllckEiLCJwbGF5ZXJfYV9pZCIsInBsYXllckIiLCJwbGF5ZXJfYl9pZCIsImN1cnJlbnRTZXNzaW9uIiwiZ2V0Q3VycmVudFNlc3Npb24iLCJleHBlY3RlZFBsYXllcklkIiwibXlSb2xlIiwibXlTZXNzaW9uSWQiLCJyb29tUGxheWVyQSIsInJvb21QbGF5ZXJCIiwidW5zdWJzY3JpYmUiLCJoYW5kbGVTaWRlU2VsZWN0ZWQiLCJzaWRlIiwic3VibWl0U2lkZVZvdGUiLCJFcnJvciIsIm1lc3NhZ2UiLCJoYW5kbGVTaWRlU2VsZWN0aW9uQ29tcGxldGUiLCJwbGF5ZXJBU2lkZSIsInBsYXllckJTaWRlIiwiZGl2IiwiY2xhc3NOYW1lIiwidG9waWMiLCJvblNpZGVTZWxlY3RlZCIsIm9uUGhhc2VDb21wbGV0ZSIsInBsYXllclNpZGUiLCJwbGF5ZXJfYV9zaWRlIiwicGxheWVyX2Jfc2lkZSIsIm9wcG9uZW50U2lkZSIsImgxIiwidG9TdHJpbmciLCJoMiIsInAiLCJzcGFuIiwiaDMiLCJ0b1VwcGVyQ2FzZSIsInBsYXllcl9hX2hlYWx0aCIsInN0eWxlIiwid2lkdGgiLCJwbGF5ZXJfYl9oZWFsdGgiLCJoNCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkZWJ1Z1Nlc3Npb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/game/[id]/page.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/roleManager.ts":
/*!********************************!*\
  !*** ./src/lib/roleManager.ts ***!
  \********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getStablePlayerRole: function() { return /* binding */ getStablePlayerRole; },\n/* harmony export */   getStableSessionId: function() { return /* binding */ getStableSessionId; },\n/* harmony export */   roleManager: function() { return /* binding */ roleManager; },\n/* harmony export */   usePlayerRole: function() { return /* binding */ usePlayerRole; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n// src/lib/roleManager.ts\n// Bulletproof role management system that maintains player roles throughout the entire game session\n\n// Single source of truth for role management\nclass RoleManager {\n    static getInstance() {\n        if (!RoleManager.instance) {\n            RoleManager.instance = new RoleManager();\n        }\n        return RoleManager.instance;\n    }\n    // Generate a consistent session ID for this browser\n    generateSessionId() {\n        // First check if we already have a global session ID\n        let globalSessionId = localStorage.getItem(\"debattle_global_session\");\n        if (!globalSessionId) {\n            globalSessionId = \"session_\".concat(Date.now(), \"_\").concat(Math.random().toString(36).substr(2, 9));\n            localStorage.setItem(\"debattle_global_session\", globalSessionId);\n            console.log(\"\\uD83C\\uDD95 Generated new global session ID:\", globalSessionId.slice(-8));\n        }\n        return globalSessionId;\n    }\n    // Initialize or retrieve role for a specific room\n    async initializeRole(roomId, room) {\n        const sessionKey = \"debattle_role_\".concat(roomId);\n        // First, check if we already have a locked role for this room\n        const existingSession = localStorage.getItem(sessionKey);\n        if (existingSession) {\n            try {\n                const parsed = JSON.parse(existingSession);\n                // Validate that the session is still valid\n                if (this.validateSession(parsed, room)) {\n                    console.log(\"✅ ROLE MANAGER - Restored existing valid session:\", {\n                        role: parsed.playerRole,\n                        sessionId: parsed.sessionId.slice(-8),\n                        isLocked: parsed.isLocked\n                    });\n                    this.currentSession = parsed;\n                    return parsed;\n                } else {\n                    console.log(\"❌ ROLE MANAGER - Existing session invalid, will create new one\");\n                    localStorage.removeItem(sessionKey);\n                }\n            } catch (error) {\n                console.error(\"❌ ROLE MANAGER - Error parsing existing session:\", error);\n                localStorage.removeItem(sessionKey);\n            }\n        }\n        // Create new session if none exists or existing is invalid\n        const sessionId = this.generateSessionId();\n        const playerRole = await this.determineRoleFromRoom(room, sessionId);\n        const newSession = {\n            sessionId,\n            playerRole,\n            roomId,\n            assignedAt: Date.now(),\n            isLocked: room.status === \"debating\" // Lock role once game starts\n        };\n        // Save the session\n        localStorage.setItem(sessionKey, JSON.stringify(newSession));\n        this.currentSession = newSession;\n        console.log(\"\\uD83C\\uDFAD ROLE MANAGER - Created new session:\", {\n            role: newSession.playerRole,\n            sessionId: newSession.sessionId.slice(-8),\n            isLocked: newSession.isLocked,\n            roomStatus: room.status\n        });\n        return newSession;\n    }\n    // Validate that a session is still valid for the current room state\n    validateSession(session, room) {\n        // Check if room still exists and session ID matches expected player\n        if (session.playerRole === \"player_a\") {\n            return room.player_a_id === session.sessionId;\n        } else if (session.playerRole === \"player_b\") {\n            return room.player_b_id === session.sessionId;\n        } else {\n            return session.playerRole === \"spectator\" // Spectators are always valid\n            ;\n        }\n    }\n    // Determine role based on room state and session ID\n    async determineRoleFromRoom(room, sessionId) {\n        var _room_player_a_id, _room_player_b_id;\n        console.log(\"\\uD83D\\uDD0D ROLE MANAGER - Determining role from room:\", {\n            sessionId: sessionId.slice(-8),\n            roomPlayerA: (_room_player_a_id = room.player_a_id) === null || _room_player_a_id === void 0 ? void 0 : _room_player_a_id.slice(-8),\n            roomPlayerB: (_room_player_b_id = room.player_b_id) === null || _room_player_b_id === void 0 ? void 0 : _room_player_b_id.slice(-8)\n        });\n        // Check direct ID matches first\n        if (room.player_a_id === sessionId) {\n            console.log(\"✅ ROLE MANAGER - Matched as Player A by ID\");\n            return \"player_a\";\n        }\n        if (room.player_b_id === sessionId) {\n            console.log(\"✅ ROLE MANAGER - Matched as Player B by ID\");\n            return \"player_b\";\n        }\n        // If no match found, user is a spectator\n        console.log(\"\\uD83D\\uDC40 ROLE MANAGER - No match found, assigned as spectator\");\n        return \"spectator\";\n    }\n    // Get current session (used by components)\n    getCurrentSession() {\n        return this.currentSession;\n    }\n    // Lock the role once game starts (prevents changes during game)\n    lockRole(roomId) {\n        if (this.currentSession && this.currentSession.roomId === roomId) {\n            this.currentSession.isLocked = true;\n            const sessionKey = \"debattle_role_\".concat(roomId);\n            localStorage.setItem(sessionKey, JSON.stringify(this.currentSession));\n            console.log(\"\\uD83D\\uDD12 ROLE MANAGER - Role locked for game session\");\n        }\n    }\n    // Clear role when leaving room\n    clearRole(roomId) {\n        const sessionKey = \"debattle_role_\".concat(roomId);\n        localStorage.removeItem(sessionKey);\n        if (this.currentSession && this.currentSession.roomId === roomId) {\n            this.currentSession = null;\n        }\n        console.log(\"\\uD83E\\uDDF9 ROLE MANAGER - Cleared role for room:\", roomId.slice(-8));\n    }\n    // Get session ID for room service compatibility\n    getSessionId() {\n        if (this.currentSession) {\n            return this.currentSession.sessionId;\n        }\n        return this.generateSessionId();\n    }\n    // Debug helper\n    debugSession(roomId) {\n        const sessionKey = \"debattle_role_\".concat(roomId);\n        const stored = localStorage.getItem(sessionKey);\n        console.log(\"\\uD83D\\uDD0D ROLE MANAGER DEBUG:\", {\n            currentSession: this.currentSession,\n            storedSession: stored ? JSON.parse(stored) : null,\n            allDebattleKeys: Object.keys(localStorage).filter((k)=>k.includes(\"debattle\"))\n        });\n    }\n    constructor(){\n        this.currentSession = null;\n    }\n}\nconst roleManager = RoleManager.getInstance();\n// Helper hook for React components\nfunction usePlayerRole(roomId, room) {\n    const [session, setSession] = react__WEBPACK_IMPORTED_MODULE_0___default().useState(null);\n    const [isLoading, setIsLoading] = react__WEBPACK_IMPORTED_MODULE_0___default().useState(true);\n    react__WEBPACK_IMPORTED_MODULE_0___default().useEffect(()=>{\n        if (!room) return;\n        const initRole = async ()=>{\n            try {\n                const playerSession = await roleManager.initializeRole(roomId, room);\n                setSession(playerSession);\n                // Lock role if game is in progress\n                if (room.status === \"debating\" && !playerSession.isLocked) {\n                    roleManager.lockRole(roomId);\n                }\n            } catch (error) {\n                console.error(\"Error initializing role:\", error);\n            } finally{\n                setIsLoading(false);\n            }\n        };\n        initRole();\n    }, [\n        roomId,\n        room === null || room === void 0 ? void 0 : room.id\n    ]) // Only re-run if roomId or room.id changes\n    ;\n    return {\n        session,\n        isLoading\n    };\n}\n// Compatibility functions for existing code\nfunction getStablePlayerRole(roomId) {\n    const session = roleManager.getCurrentSession();\n    if (session && session.roomId === roomId) {\n        return session.playerRole;\n    }\n    return \"spectator\";\n}\nfunction getStableSessionId() {\n    return roleManager.getSessionId();\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvcm9sZU1hbmFnZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEseUJBQXlCO0FBQ3pCLG9HQUFvRztBQUUzRTtBQVV6Qiw2Q0FBNkM7QUFDN0MsTUFBTUM7SUFJSixPQUFPQyxjQUEyQjtRQUNoQyxJQUFJLENBQUNELFlBQVlFLFFBQVEsRUFBRTtZQUN6QkYsWUFBWUUsUUFBUSxHQUFHLElBQUlGO1FBQzdCO1FBQ0EsT0FBT0EsWUFBWUUsUUFBUTtJQUM3QjtJQUVBLG9EQUFvRDtJQUM1Q0Msb0JBQTRCO1FBQ2xDLHFEQUFxRDtRQUNyRCxJQUFJQyxrQkFBa0JDLGFBQWFDLE9BQU8sQ0FBQztRQUMzQyxJQUFJLENBQUNGLGlCQUFpQjtZQUNwQkEsa0JBQWtCLFdBQXlCRyxPQUFkQyxLQUFLQyxHQUFHLElBQUcsS0FBMkMsT0FBeENGLEtBQUtHLE1BQU0sR0FBR0MsUUFBUSxDQUFDLElBQUlDLE1BQU0sQ0FBQyxHQUFHO1lBQ2hGUCxhQUFhUSxPQUFPLENBQUMsMkJBQTJCVDtZQUNoRFUsUUFBUUMsR0FBRyxDQUFDLGlEQUF1Q1gsZ0JBQWdCWSxLQUFLLENBQUMsQ0FBQztRQUM1RTtRQUNBLE9BQU9aO0lBQ1Q7SUFFQSxrREFBa0Q7SUFDbEQsTUFBTWEsZUFBZUMsTUFBYyxFQUFFQyxJQUFTLEVBQTBCO1FBQ3RFLE1BQU1DLGFBQWEsaUJBQXdCLE9BQVBGO1FBRXBDLDhEQUE4RDtRQUM5RCxNQUFNRyxrQkFBa0JoQixhQUFhQyxPQUFPLENBQUNjO1FBQzdDLElBQUlDLGlCQUFpQjtZQUNuQixJQUFJO2dCQUNGLE1BQU1DLFNBQXdCQyxLQUFLQyxLQUFLLENBQUNIO2dCQUV6QywyQ0FBMkM7Z0JBQzNDLElBQUksSUFBSSxDQUFDSSxlQUFlLENBQUNILFFBQVFILE9BQU87b0JBQ3RDTCxRQUFRQyxHQUFHLENBQUMscURBQXFEO3dCQUMvRFcsTUFBTUosT0FBT0ssVUFBVTt3QkFDdkJDLFdBQVdOLE9BQU9N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QUFXQyxhQUFhLEdBQUcvRCxxREFBYyxDQUFDO0lBRWpEQSxzREFBZSxDQUFDO1FBQ2QsSUFBSSxDQUFDb0IsTUFBTTtRQUVYLE1BQU02QyxXQUFXO1lBQ2YsSUFBSTtnQkFDRixNQUFNQyxnQkFBZ0IsTUFBTVIsWUFBWXhDLGNBQWMsQ0FBQ0MsUUFBUUM7Z0JBQy9Ed0MsV0FBV007Z0JBRVgsbUNBQW1DO2dCQUNuQyxJQUFJOUMsS0FBS2lCLE1BQU0sS0FBSyxjQUFjLENBQUM2QixjQUFjcEMsUUFBUSxFQUFFO29CQUN6RDRCLFlBQVlaLFFBQVEsQ0FBQzNCO2dCQUN2QjtZQUNGLEVBQUUsT0FBT2MsT0FBTztnQkFDZGxCLFFBQVFrQixLQUFLLENBQUMsNEJBQTRCQTtZQUM1QyxTQUFVO2dCQUNSOEIsYUFBYTtZQUNmO1FBQ0Y7UUFFQUU7SUFDRixHQUFHO1FBQUM5QztRQUFRQyxpQkFBQUEsMkJBQUFBLEtBQU0rQyxFQUFFO0tBQUMsRUFBRSwyQ0FBMkM7O0lBRWxFLE9BQU87UUFBRTNCO1FBQVNzQjtJQUFVO0FBQzlCO0FBRUEsNENBQTRDO0FBQ3JDLFNBQVNNLG9CQUFvQmpELE1BQWM7SUFDaEQsTUFBTXFCLFVBQVVrQixZQUFZYixpQkFBaUI7SUFDN0MsSUFBSUwsV0FBV0EsUUFBUXJCLE1BQU0sS0FBS0EsUUFBUTtRQUN4QyxPQUFPcUIsUUFBUVosVUFBVTtJQUMzQjtJQUNBLE9BQU87QUFDVDtBQUVPLFNBQVN5QztJQUNkLE9BQU9YLFlBQVlWLFlBQVk7QUFDakMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2xpYi9yb2xlTWFuYWdlci50cz9lM2JkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9saWIvcm9sZU1hbmFnZXIudHNcbi8vIEJ1bGxldHByb29mIHJvbGUgbWFuYWdlbWVudCBzeXN0ZW0gdGhhdCBtYWludGFpbnMgcGxheWVyIHJvbGVzIHRocm91Z2hvdXQgdGhlIGVudGlyZSBnYW1lIHNlc3Npb25cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5leHBvcnQgaW50ZXJmYWNlIFBsYXllclNlc3Npb24ge1xuICBzZXNzaW9uSWQ6IHN0cmluZ1xuICBwbGF5ZXJSb2xlOiAncGxheWVyX2EnIHwgJ3BsYXllcl9iJyB8ICdzcGVjdGF0b3InXG4gIHJvb21JZDogc3RyaW5nXG4gIGFzc2lnbmVkQXQ6IG51bWJlciAvLyB0aW1lc3RhbXAgd2hlbiByb2xlIHdhcyBhc3NpZ25lZFxuICBpc0xvY2tlZDogYm9vbGVhbiAvLyBwcmV2ZW50cyByb2xlIGNoYW5nZXMgb25jZSBnYW1lIHN0YXJ0c1xufVxuXG4vLyBTaW5nbGUgc291cmNlIG9mIHRydXRoIGZvciByb2xlIG1hbmFnZW1lbnRcbmNsYXNzIFJvbGVNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IFJvbGVNYW5hZ2VyXG4gIHByaXZhdGUgY3VycmVudFNlc3Npb246IFBsYXllclNlc3Npb24gfCBudWxsID0gbnVsbFxuICBcbiAgc3RhdGljIGdldEluc3RhbmNlKCk6IFJvbGVNYW5hZ2VyIHtcbiAgICBpZiAoIVJvbGVNYW5hZ2VyLmluc3RhbmNlKSB7XG4gICAgICBSb2xlTWFuYWdlci5pbnN0YW5jZSA9IG5ldyBSb2xlTWFuYWdlcigpXG4gICAgfVxuICAgIHJldHVybiBSb2xlTWFuYWdlci5pbnN0YW5jZVxuICB9XG5cbiAgLy8gR2VuZXJhdGUgYSBjb25zaXN0ZW50IHNlc3Npb24gSUQgZm9yIHRoaXMgYnJvd3NlclxuICBwcml2YXRlIGdlbmVyYXRlU2Vzc2lvbklkKCk6IHN0cmluZyB7XG4gICAgLy8gRmlyc3QgY2hlY2sgaWYgd2UgYWxyZWFkeSBoYXZlIGEgZ2xvYmFsIHNlc3Npb24gSURcbiAgICBsZXQgZ2xvYmFsU2Vzc2lvbklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2RlYmF0dGxlX2dsb2JhbF9zZXNzaW9uJylcbiAgICBpZiAoIWdsb2JhbFNlc3Npb25JZCkge1xuICAgICAgZ2xvYmFsU2Vzc2lvbklkID0gYHNlc3Npb25fJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZGViYXR0bGVfZ2xvYmFsX3Nlc3Npb24nLCBnbG9iYWxTZXNzaW9uSWQpXG4gICAgICBjb25zb2xlLmxvZygn8J+GlSBHZW5lcmF0ZWQgbmV3IGdsb2JhbCBzZXNzaW9uIElEOicsIGdsb2JhbFNlc3Npb25JZC5zbGljZSgtOCkpXG4gICAgfVxuICAgIHJldHVybiBnbG9iYWxTZXNzaW9uSWRcbiAgfVxuXG4gIC8vIEluaXRpYWxpemUgb3IgcmV0cmlldmUgcm9sZSBmb3IgYSBzcGVjaWZpYyByb29tXG4gIGFzeW5jIGluaXRpYWxpemVSb2xlKHJvb21JZDogc3RyaW5nLCByb29tOiBhbnkpOiBQcm9taXNlPFBsYXllclNlc3Npb24+IHtcbiAgICBjb25zdCBzZXNzaW9uS2V5ID0gYGRlYmF0dGxlX3JvbGVfJHtyb29tSWR9YFxuICAgIFxuICAgIC8vIEZpcnN0LCBjaGVjayBpZiB3ZSBhbHJlYWR5IGhhdmUgYSBsb2NrZWQgcm9sZSBmb3IgdGhpcyByb29tXG4gICAgY29uc3QgZXhpc3RpbmdTZXNzaW9uID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oc2Vzc2lvbktleSlcbiAgICBpZiAoZXhpc3RpbmdTZXNzaW9uKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXJzZWQ6IFBsYXllclNlc3Npb24gPSBKU09OLnBhcnNlKGV4aXN0aW5nU2Vzc2lvbilcbiAgICAgICAgXG4gICAgICAgIC8vIFZhbGlkYXRlIHRoYXQgdGhlIHNlc3Npb24gaXMgc3RpbGwgdmFsaWRcbiAgICAgICAgaWYgKHRoaXMudmFsaWRhdGVTZXNzaW9uKHBhcnNlZCwgcm9vbSkpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFJPTEUgTUFOQUdFUiAtIFJlc3RvcmVkIGV4aXN0aW5nIHZhbGlkIHNlc3Npb246Jywge1xuICAgICAgICAgICAgcm9sZTogcGFyc2VkLnBsYXllclJvbGUsXG4gICAgICAgICAgICBzZXNzaW9uSWQ6IHBhcnNlZC5zZXNzaW9uSWQuc2xpY2UoLTgpLFxuICAgICAgICAgICAgaXNMb2NrZWQ6IHBhcnNlZC5pc0xvY2tlZFxuICAgICAgICAgIH0pXG4gICAgICAgICAgdGhpcy5jdXJyZW50U2Vzc2lvbiA9IHBhcnNlZFxuICAgICAgICAgIHJldHVybiBwYXJzZWRcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn4p2MIFJPTEUgTUFOQUdFUiAtIEV4aXN0aW5nIHNlc3Npb24gaW52YWxpZCwgd2lsbCBjcmVhdGUgbmV3IG9uZScpXG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oc2Vzc2lvbktleSlcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFJPTEUgTUFOQUdFUiAtIEVycm9yIHBhcnNpbmcgZXhpc3Rpbmcgc2Vzc2lvbjonLCBlcnJvcilcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oc2Vzc2lvbktleSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgbmV3IHNlc3Npb24gaWYgbm9uZSBleGlzdHMgb3IgZXhpc3RpbmcgaXMgaW52YWxpZFxuICAgIGNvbnN0IHNlc3Npb25JZCA9IHRoaXMuZ2VuZXJhdGVTZXNzaW9uSWQoKVxuICAgIGNvbnN0IHBsYXllclJvbGUgPSBhd2FpdCB0aGlzLmRldGVybWluZVJvbGVGcm9tUm9vbShyb29tLCBzZXNzaW9uSWQpXG4gICAgXG4gICAgY29uc3QgbmV3U2Vzc2lvbjogUGxheWVyU2Vzc2lvbiA9IHtcbiAgICAgIHNlc3Npb25JZCxcbiAgICAgIHBsYXllclJvbGUsXG4gICAgICByb29tSWQsXG4gICAgICBhc3NpZ25lZEF0OiBEYXRlLm5vdygpLFxuICAgICAgaXNMb2NrZWQ6IHJvb20uc3RhdHVzID09PSAnZGViYXRpbmcnIC8vIExvY2sgcm9sZSBvbmNlIGdhbWUgc3RhcnRzXG4gICAgfVxuXG4gICAgLy8gU2F2ZSB0aGUgc2Vzc2lvblxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHNlc3Npb25LZXksIEpTT04uc3RyaW5naWZ5KG5ld1Nlc3Npb24pKVxuICAgIHRoaXMuY3VycmVudFNlc3Npb24gPSBuZXdTZXNzaW9uXG5cbiAgICBjb25zb2xlLmxvZygn8J+OrSBST0xFIE1BTkFHRVIgLSBDcmVhdGVkIG5ldyBzZXNzaW9uOicsIHtcbiAgICAgIHJvbGU6IG5ld1Nlc3Npb24ucGxheWVyUm9sZSxcbiAgICAgIHNlc3Npb25JZDogbmV3U2Vzc2lvbi5zZXNzaW9uSWQuc2xpY2UoLTgpLFxuICAgICAgaXNMb2NrZWQ6IG5ld1Nlc3Npb24uaXNMb2NrZWQsXG4gICAgICByb29tU3RhdHVzOiByb29tLnN0YXR1c1xuICAgIH0pXG5cbiAgICByZXR1cm4gbmV3U2Vzc2lvblxuICB9XG5cbiAgLy8gVmFsaWRhdGUgdGhhdCBhIHNlc3Npb24gaXMgc3RpbGwgdmFsaWQgZm9yIHRoZSBjdXJyZW50IHJvb20gc3RhdGVcbiAgcHJpdmF0ZSB2YWxpZGF0ZVNlc3Npb24oc2Vzc2lvbjogUGxheWVyU2Vzc2lvbiwgcm9vbTogYW55KTogYm9vbGVhbiB7XG4gICAgLy8gQ2hlY2sgaWYgcm9vbSBzdGlsbCBleGlzdHMgYW5kIHNlc3Npb24gSUQgbWF0Y2hlcyBleHBlY3RlZCBwbGF5ZXJcbiAgICBpZiAoc2Vzc2lvbi5wbGF5ZXJSb2xlID09PSAncGxheWVyX2EnKSB7XG4gICAgICByZXR1cm4gcm9vbS5wbGF5ZXJfYV9pZCA9PT0gc2Vzc2lvbi5zZXNzaW9uSWRcbiAgICB9IGVsc2UgaWYgKHNlc3Npb24ucGxheWVyUm9sZSA9PT0gJ3BsYXllcl9iJykge1xuICAgICAgcmV0dXJuIHJvb20ucGxheWVyX2JfaWQgPT09IHNlc3Npb24uc2Vzc2lvbklkXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzZXNzaW9uLnBsYXllclJvbGUgPT09ICdzcGVjdGF0b3InIC8vIFNwZWN0YXRvcnMgYXJlIGFsd2F5cyB2YWxpZFxuICAgIH1cbiAgfVxuXG4gIC8vIERldGVybWluZSByb2xlIGJhc2VkIG9uIHJvb20gc3RhdGUgYW5kIHNlc3Npb24gSURcbiAgcHJpdmF0ZSBhc3luYyBkZXRlcm1pbmVSb2xlRnJvbVJvb20ocm9vbTogYW55LCBzZXNzaW9uSWQ6IHN0cmluZyk6IFByb21pc2U8J3BsYXllcl9hJyB8ICdwbGF5ZXJfYicgfCAnc3BlY3RhdG9yJz4ge1xuICAgIGNvbnNvbGUubG9nKCfwn5SNIFJPTEUgTUFOQUdFUiAtIERldGVybWluaW5nIHJvbGUgZnJvbSByb29tOicsIHtcbiAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkLnNsaWNlKC04KSxcbiAgICAgIHJvb21QbGF5ZXJBOiByb29tLnBsYXllcl9hX2lkPy5zbGljZSgtOCksXG4gICAgICByb29tUGxheWVyQjogcm9vbS5wbGF5ZXJfYl9pZD8uc2xpY2UoLTgpXG4gICAgfSlcblxuICAgIC8vIENoZWNrIGRpcmVjdCBJRCBtYXRjaGVzIGZpcnN0XG4gICAgaWYgKHJvb20ucGxheWVyX2FfaWQgPT09IHNlc3Npb25JZCkge1xuICAgICAgY29uc29sZS5sb2coJ+KchSBST0xFIE1BTkFHRVIgLSBNYXRjaGVkIGFzIFBsYXllciBBIGJ5IElEJylcbiAgICAgIHJldHVybiAncGxheWVyX2EnXG4gICAgfVxuICAgIFxuICAgIGlmIChyb29tLnBsYXllcl9iX2lkID09PSBzZXNzaW9uSWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgUk9MRSBNQU5BR0VSIC0gTWF0Y2hlZCBhcyBQbGF5ZXIgQiBieSBJRCcpXG4gICAgICByZXR1cm4gJ3BsYXllcl9iJ1xuICAgIH1cblxuICAgIC8vIElmIG5vIG1hdGNoIGZvdW5kLCB1c2VyIGlzIGEgc3BlY3RhdG9yXG4gICAgY29uc29sZS5sb2coJ/CfkYAgUk9MRSBNQU5BR0VSIC0gTm8gbWF0Y2ggZm91bmQsIGFzc2lnbmVkIGFzIHNwZWN0YXRvcicpXG4gICAgcmV0dXJuICdzcGVjdGF0b3InXG4gIH1cblxuICAvLyBHZXQgY3VycmVudCBzZXNzaW9uICh1c2VkIGJ5IGNvbXBvbmVudHMpXG4gIGdldEN1cnJlbnRTZXNzaW9uKCk6IFBsYXllclNlc3Npb24gfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50U2Vzc2lvblxuICB9XG5cbiAgLy8gTG9jayB0aGUgcm9sZSBvbmNlIGdhbWUgc3RhcnRzIChwcmV2ZW50cyBjaGFuZ2VzIGR1cmluZyBnYW1lKVxuICBsb2NrUm9sZShyb29tSWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICh0aGlzLmN1cnJlbnRTZXNzaW9uICYmIHRoaXMuY3VycmVudFNlc3Npb24ucm9vbUlkID09PSByb29tSWQpIHtcbiAgICAgIHRoaXMuY3VycmVudFNlc3Npb24uaXNMb2NrZWQgPSB0cnVlXG4gICAgICBjb25zdCBzZXNzaW9uS2V5ID0gYGRlYmF0dGxlX3JvbGVfJHtyb29tSWR9YFxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oc2Vzc2lvbktleSwgSlNPTi5zdHJpbmdpZnkodGhpcy5jdXJyZW50U2Vzc2lvbikpXG4gICAgICBjb25zb2xlLmxvZygn8J+UkiBST0xFIE1BTkFHRVIgLSBSb2xlIGxvY2tlZCBmb3IgZ2FtZSBzZXNzaW9uJylcbiAgICB9XG4gIH1cblxuICAvLyBDbGVhciByb2xlIHdoZW4gbGVhdmluZyByb29tXG4gIGNsZWFyUm9sZShyb29tSWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IHNlc3Npb25LZXkgPSBgZGViYXR0bGVfcm9sZV8ke3Jvb21JZH1gXG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oc2Vzc2lvbktleSlcbiAgICBcbiAgICBpZiAodGhpcy5jdXJyZW50U2Vzc2lvbiAmJiB0aGlzLmN1cnJlbnRTZXNzaW9uLnJvb21JZCA9PT0gcm9vbUlkKSB7XG4gICAgICB0aGlzLmN1cnJlbnRTZXNzaW9uID0gbnVsbFxuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygn8J+nuSBST0xFIE1BTkFHRVIgLSBDbGVhcmVkIHJvbGUgZm9yIHJvb206Jywgcm9vbUlkLnNsaWNlKC04KSlcbiAgfVxuXG4gIC8vIEdldCBzZXNzaW9uIElEIGZvciByb29tIHNlcnZpY2UgY29tcGF0aWJpbGl0eVxuICBnZXRTZXNzaW9uSWQoKTogc3RyaW5nIHtcbiAgICBpZiAodGhpcy5jdXJyZW50U2Vzc2lvbikge1xuICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFNlc3Npb24uc2Vzc2lvbklkXG4gICAgfVxuICAgIHJldHVybiB0aGlzLmdlbmVyYXRlU2Vzc2lvbklkKClcbiAgfVxuXG4gIC8vIERlYnVnIGhlbHBlclxuICBkZWJ1Z1Nlc3Npb24ocm9vbUlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBzZXNzaW9uS2V5ID0gYGRlYmF0dGxlX3JvbGVfJHtyb29tSWR9YFxuICAgIGNvbnN0IHN0b3JlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHNlc3Npb25LZXkpXG4gICAgXG4gICAgY29uc29sZS5sb2coJ/CflI0gUk9MRSBNQU5BR0VSIERFQlVHOicsIHtcbiAgICAgIGN1cnJlbnRTZXNzaW9uOiB0aGlzLmN1cnJlbnRTZXNzaW9uLFxuICAgICAgc3RvcmVkU2Vzc2lvbjogc3RvcmVkID8gSlNPTi5wYXJzZShzdG9yZWQpIDogbnVsbCxcbiAgICAgIGFsbERlYmF0dGxlS2V5czogT2JqZWN0LmtleXMobG9jYWxTdG9yYWdlKS5maWx0ZXIoayA9PiBrLmluY2x1ZGVzKCdkZWJhdHRsZScpKVxuICAgIH0pXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHJvbGVNYW5hZ2VyID0gUm9sZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKVxuXG4vLyBIZWxwZXIgaG9vayBmb3IgUmVhY3QgY29tcG9uZW50c1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVBsYXllclJvbGUocm9vbUlkOiBzdHJpbmcsIHJvb206IGFueSkge1xuICBjb25zdCBbc2Vzc2lvbiwgc2V0U2Vzc2lvbl0gPSBSZWFjdC51c2VTdGF0ZTxQbGF5ZXJTZXNzaW9uIHwgbnVsbD4obnVsbClcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IFJlYWN0LnVzZVN0YXRlKHRydWUpXG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXJvb20pIHJldHVyblxuXG4gICAgY29uc3QgaW5pdFJvbGUgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwbGF5ZXJTZXNzaW9uID0gYXdhaXQgcm9sZU1hbmFnZXIuaW5pdGlhbGl6ZVJvbGUocm9vbUlkLCByb29tKVxuICAgICAgICBzZXRTZXNzaW9uKHBsYXllclNlc3Npb24pXG4gICAgICAgIFxuICAgICAgICAvLyBMb2NrIHJvbGUgaWYgZ2FtZSBpcyBpbiBwcm9ncmVzc1xuICAgICAgICBpZiAocm9vbS5zdGF0dXMgPT09ICdkZWJhdGluZycgJiYgIXBsYXllclNlc3Npb24uaXNMb2NrZWQpIHtcbiAgICAgICAgICByb2xlTWFuYWdlci5sb2NrUm9sZShyb29tSWQpXG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluaXRpYWxpemluZyByb2xlOicsIGVycm9yKVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKVxuICAgICAgfVxuICAgIH1cblxuICAgIGluaXRSb2xlKClcbiAgfSwgW3Jvb21JZCwgcm9vbT8uaWRdKSAvLyBPbmx5IHJlLXJ1biBpZiByb29tSWQgb3Igcm9vbS5pZCBjaGFuZ2VzXG5cbiAgcmV0dXJuIHsgc2Vzc2lvbiwgaXNMb2FkaW5nIH1cbn1cblxuLy8gQ29tcGF0aWJpbGl0eSBmdW5jdGlvbnMgZm9yIGV4aXN0aW5nIGNvZGVcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGFibGVQbGF5ZXJSb2xlKHJvb21JZDogc3RyaW5nKTogJ3BsYXllcl9hJyB8ICdwbGF5ZXJfYicgfCAnc3BlY3RhdG9yJyB7XG4gIGNvbnN0IHNlc3Npb24gPSByb2xlTWFuYWdlci5nZXRDdXJyZW50U2Vzc2lvbigpXG4gIGlmIChzZXNzaW9uICYmIHNlc3Npb24ucm9vbUlkID09PSByb29tSWQpIHtcbiAgICByZXR1cm4gc2Vzc2lvbi5wbGF5ZXJSb2xlXG4gIH1cbiAgcmV0dXJuICdzcGVjdGF0b3InXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGFibGVTZXNzaW9uSWQoKTogc3RyaW5nIHtcbiAgcmV0dXJuIHJvbGVNYW5hZ2VyLmdldFNlc3Npb25JZCgpXG59Il0sIm5hbWVzIjpbIlJlYWN0IiwiUm9sZU1hbmFnZXIiLCJnZXRJbnN0YW5jZSIsImluc3RhbmNlIiwiZ2VuZXJhdGVTZXNzaW9uSWQiLCJnbG9iYWxTZXNzaW9uSWQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiTWF0aCIsIkRhdGUiLCJub3ciLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsInNldEl0ZW0iLCJjb25zb2xlIiwibG9nIiwic2xpY2UiLCJpbml0aWFsaXplUm9sZSIsInJvb21JZCIsInJvb20iLCJzZXNzaW9uS2V5IiwiZXhpc3RpbmdTZXNzaW9uIiwicGFyc2VkIiwiSlNPTiIsInBhcnNlIiwidmFsaWRhdGVTZXNzaW9uIiwicm9sZSIsInBsYXllclJvbGUiLCJzZXNzaW9uSWQiLCJpc0xvY2tlZCIsImN1cnJlbnRTZXNzaW9uIiwicmVtb3ZlSXRlbSIsImVycm9yIiwiZGV0ZXJtaW5lUm9sZUZyb21Sb29tIiwibmV3U2Vzc2lvbiIsImFzc2lnbmVkQXQiLCJzdGF0dXMiLCJzdHJpbmdpZnkiLCJyb29tU3RhdHVzIiwic2Vzc2lvbiIsInBsYXllcl9hX2lkIiwicGxheWVyX2JfaWQiLCJyb29tUGxheWVyQSIsInJvb21QbGF5ZXJCIiwiZ2V0Q3VycmVudFNlc3Npb24iLCJsb2NrUm9sZSIsImNsZWFyUm9sZSIsImdldFNlc3Npb25JZCIsImRlYnVnU2Vzc2lvbiIsInN0b3JlZCIsInN0b3JlZFNlc3Npb24iLCJhbGxEZWJhdHRsZUtleXMiLCJPYmplY3QiLCJrZXlzIiwiZmlsdGVyIiwiayIsImluY2x1ZGVzIiwicm9sZU1hbmFnZXIiLCJ1c2VQbGF5ZXJSb2xlIiwic2V0U2Vzc2lvbiIsInVzZVN0YXRlIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwidXNlRWZmZWN0IiwiaW5pdFJvbGUiLCJwbGF5ZXJTZXNzaW9uIiwiaWQiLCJnZXRTdGFibGVQbGF5ZXJSb2xlIiwiZ2V0U3RhYmxlU2Vzc2lvbklkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/roleManager.ts\n"));

/***/ })

});