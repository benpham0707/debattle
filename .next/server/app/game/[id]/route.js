"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/game/[id]/route";
exports.ids = ["app/game/[id]/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fgame%2F%5Bid%5D%2Froute&page=%2Fgame%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fgame%2F%5Bid%5D%2Froute.ts&appDir=%2FUsers%2Fbeenpam%2FDesktop%2FGitHub%2Fdebattle%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbeenpam%2FDesktop%2FGitHub%2Fdebattle&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fgame%2F%5Bid%5D%2Froute&page=%2Fgame%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fgame%2F%5Bid%5D%2Froute.ts&appDir=%2FUsers%2Fbeenpam%2FDesktop%2FGitHub%2Fdebattle%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbeenpam%2FDesktop%2FGitHub%2Fdebattle&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_beenpam_Desktop_GitHub_debattle_src_app_game_id_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/game/[id]/route.ts */ \"(rsc)/./src/app/game/[id]/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/game/[id]/route\",\n        pathname: \"/game/[id]\",\n        filename: \"route\",\n        bundlePath: \"app/game/[id]/route\"\n    },\n    resolvedPagePath: \"/Users/beenpam/Desktop/GitHub/debattle/src/app/game/[id]/route.ts\",\n    nextConfigOutput,\n    userland: _Users_beenpam_Desktop_GitHub_debattle_src_app_game_id_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/game/[id]/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZnYW1lJTJGJTVCaWQlNUQlMkZyb3V0ZSZwYWdlPSUyRmdhbWUlMkYlNUJpZCU1RCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmdhbWUlMkYlNUJpZCU1RCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmJlZW5wYW0lMkZEZXNrdG9wJTJGR2l0SHViJTJGZGViYXR0bGUlMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGYmVlbnBhbSUyRkRlc2t0b3AlMkZHaXRIdWIlMkZkZWJhdHRsZSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDaUI7QUFDOUY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZWJhdHRsZS8/MzUxZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvYmVlbnBhbS9EZXNrdG9wL0dpdEh1Yi9kZWJhdHRsZS9zcmMvYXBwL2dhbWUvW2lkXS9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9nYW1lL1tpZF0vcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2dhbWUvW2lkXVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9nYW1lL1tpZF0vcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvYmVlbnBhbS9EZXNrdG9wL0dpdEh1Yi9kZWJhdHRsZS9zcmMvYXBwL2dhbWUvW2lkXS9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9nYW1lL1tpZF0vcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fgame%2F%5Bid%5D%2Froute&page=%2Fgame%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fgame%2F%5Bid%5D%2Froute.ts&appDir=%2FUsers%2Fbeenpam%2FDesktop%2FGitHub%2Fdebattle%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbeenpam%2FDesktop%2FGitHub%2Fdebattle&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/game/[id]/route.ts":
/*!************************************!*\
  !*** ./src/app/game/[id]/route.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase */ \"(rsc)/./src/lib/supabase.ts\");\n// src/app/api/game/[roomId]/route.ts\n\n\n// Get current game state for a room\nasync function GET(request, { params }) {\n    try {\n        const roomId = params.roomId;\n        // Get room details\n        const { data: room, error: roomError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"rooms\").select(\"*\").eq(\"id\", roomId).single();\n        if (roomError || !room) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Room not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Get recent judging results\n        const { data: rounds, error: roundsError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"debate_rounds\").select(\"*\").eq(\"room_id\", roomId).order(\"created_at\", {\n            ascending: false\n        }).limit(5);\n        if (roundsError) {\n            console.error(\"Error fetching rounds:\", roundsError);\n        }\n        // Calculate current turn info\n        const turnInfo = getCurrentTurnInfo(room);\n        // Get message count for current phase\n        const { count: messageCount } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"messages\").select(\"*\", {\n            count: \"exact\",\n            head: true\n        }).eq(\"room_id\", roomId).eq(\"phase\", room.current_phase || \"\");\n        const gameState = {\n            room,\n            rounds: rounds || [],\n            turnInfo,\n            messageCount: messageCount || 0,\n            isGameActive: room.status === \"debating\",\n            phaseTimeRemaining: calculateTimeRemaining(room),\n            healthStatus: {\n                playerA: {\n                    health: room.player_a_health,\n                    percentage: room.player_a_health,\n                    status: getHealthStatus(room.player_a_health)\n                },\n                playerB: {\n                    health: room.player_b_health,\n                    percentage: room.player_b_health,\n                    status: getHealthStatus(room.player_b_health)\n                }\n            }\n        };\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(gameState);\n    } catch (error) {\n        console.error(\"Game state API error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch game state\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Submit a debate message\nasync function POST(request, { params }) {\n    try {\n        const roomId = params.roomId;\n        const { content, playerSide, playerRole, userId } = await request.json();\n        if (!content || !playerSide || !playerRole) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Missing required fields\"\n            }, {\n                status: 400\n            });\n        }\n        // Get room to validate it's in a debate phase\n        const { data: room, error: roomError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"rooms\").select(\"current_phase, status, player_a_name, player_b_name\").eq(\"id\", roomId).single();\n        if (roomError || !room) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Room not found\"\n            }, {\n                status: 404\n            });\n        }\n        if (room.status !== \"debating\" || !room.current_phase) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Room is not in active debate phase\"\n            }, {\n                status: 400\n            });\n        }\n        // Determine sender name\n        const senderName = playerRole === \"player_a\" ? room.player_a_name || \"Player A\" : room.player_b_name || \"Player B\";\n        // Insert message\n        const { data: message, error: messageError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"messages\").insert({\n            room_id: roomId,\n            user_id: userId,\n            sender_name: `${senderName} (${playerSide.toUpperCase()})`,\n            content: content.trim(),\n            phase: room.current_phase,\n            player_side: playerSide\n        }).select().single();\n        if (messageError) {\n            console.error(\"Error saving message:\", messageError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Failed to save message\"\n            }, {\n                status: 500\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message,\n            timestamp: new Date().toISOString()\n        });\n    } catch (error) {\n        console.error(\"Submit message API error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to submit message\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Helper functions\nfunction getCurrentTurnInfo(room) {\n    if (!room.current_phase || !room.phase_start_time || !room.phase_duration) {\n        return {\n            currentSpeaker: \"none\",\n            timeLeft: 0,\n            canSpeak: false\n        };\n    }\n    const elapsed = Math.floor((Date.now() - new Date(room.phase_start_time).getTime()) / 1000);\n    const timeLeft = Math.max(0, room.phase_duration - elapsed);\n    // Determine who can speak based on phase and timing\n    let currentSpeaker = \"none\";\n    let canSpeak = false;\n    if (room.current_phase === \"opening\") {\n        if (elapsed < 30) {\n            currentSpeaker = \"player_a\";\n            canSpeak = true;\n        } else if (elapsed < 40) {\n            currentSpeaker = \"transition\";\n            canSpeak = false;\n        } else if (elapsed < 70) {\n            currentSpeaker = \"player_b\";\n            canSpeak = true;\n        }\n    } else if (room.current_phase === \"rebuttal\") {\n        if (elapsed < 30) {\n            currentSpeaker = \"player_b\";\n            canSpeak = true;\n        } else if (elapsed < 40) {\n            currentSpeaker = \"transition\";\n            canSpeak = false;\n        } else if (elapsed < 70) {\n            currentSpeaker = \"player_a\";\n            canSpeak = true;\n        }\n    } else if (room.current_phase === \"final\") {\n        if (elapsed < 30) {\n            currentSpeaker = \"player_a\";\n            canSpeak = true;\n        } else if (elapsed < 40) {\n            currentSpeaker = \"transition\";\n            canSpeak = false;\n        } else if (elapsed < 70) {\n            currentSpeaker = \"player_b\";\n            canSpeak = true;\n        }\n    } else if (room.current_phase === \"judging\") {\n        currentSpeaker = \"ai_judge\";\n        canSpeak = false;\n    }\n    return {\n        currentSpeaker,\n        timeLeft,\n        canSpeak\n    };\n}\nfunction calculateTimeRemaining(room) {\n    if (!room.phase_start_time || !room.phase_duration) {\n        return 0;\n    }\n    const elapsed = Math.floor((Date.now() - new Date(room.phase_start_time).getTime()) / 1000);\n    return Math.max(0, room.phase_duration - elapsed);\n}\nfunction getHealthStatus(health) {\n    if (health > 75) return \"excellent\";\n    if (health > 50) return \"good\";\n    if (health > 25) return \"damaged\";\n    if (health > 0) return \"critical\";\n    return \"eliminated\";\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b3VyY2VzQ29udGVudCI6WyIvLyBzcmMvYXBwL2FwaS9nYW1lL1tyb29tSWRdL3JvdXRlLnRzXG5pbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnQC9saWIvc3VwYWJhc2UnXG5cbi8vIEdldCBjdXJyZW50IGdhbWUgc3RhdGUgZm9yIGEgcm9vbVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChcbiAgcmVxdWVzdDogUmVxdWVzdCxcbiAgeyBwYXJhbXMgfTogeyBwYXJhbXM6IHsgcm9vbUlkOiBzdHJpbmcgfSB9XG4pIHtcbiAgdHJ5IHtcbiAgICBjb25zdCByb29tSWQgPSBwYXJhbXMucm9vbUlkXG5cbiAgICAvLyBHZXQgcm9vbSBkZXRhaWxzXG4gICAgY29uc3QgeyBkYXRhOiByb29tLCBlcnJvcjogcm9vbUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3Jvb21zJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLmVxKCdpZCcsIHJvb21JZClcbiAgICAgIC5zaW5nbGUoKVxuXG4gICAgaWYgKHJvb21FcnJvciB8fCAhcm9vbSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnUm9vbSBub3QgZm91bmQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDQgfVxuICAgICAgKVxuICAgIH1cblxuICAgIC8vIEdldCByZWNlbnQganVkZ2luZyByZXN1bHRzXG4gICAgY29uc3QgeyBkYXRhOiByb3VuZHMsIGVycm9yOiByb3VuZHNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdkZWJhdGVfcm91bmRzJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLmVxKCdyb29tX2lkJywgcm9vbUlkKVxuICAgICAgLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG4gICAgICAubGltaXQoNSlcblxuICAgIGlmIChyb3VuZHNFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcm91bmRzOicsIHJvdW5kc0Vycm9yKVxuICAgIH1cblxuICAgIC8vIENhbGN1bGF0ZSBjdXJyZW50IHR1cm4gaW5mb1xuICAgIGNvbnN0IHR1cm5JbmZvID0gZ2V0Q3VycmVudFR1cm5JbmZvKHJvb20pXG4gICAgXG4gICAgLy8gR2V0IG1lc3NhZ2UgY291bnQgZm9yIGN1cnJlbnQgcGhhc2VcbiAgICBjb25zdCB7IGNvdW50OiBtZXNzYWdlQ291bnQgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnbWVzc2FnZXMnKVxuICAgICAgLnNlbGVjdCgnKicsIHsgY291bnQ6ICdleGFjdCcsIGhlYWQ6IHRydWUgfSlcbiAgICAgIC5lcSgncm9vbV9pZCcsIHJvb21JZClcbiAgICAgIC5lcSgncGhhc2UnLCByb29tLmN1cnJlbnRfcGhhc2UgfHwgJycpXG5cbiAgICBjb25zdCBnYW1lU3RhdGUgPSB7XG4gICAgICByb29tLFxuICAgICAgcm91bmRzOiByb3VuZHMgfHwgW10sXG4gICAgICB0dXJuSW5mbyxcbiAgICAgIG1lc3NhZ2VDb3VudDogbWVzc2FnZUNvdW50IHx8IDAsXG4gICAgICBpc0dhbWVBY3RpdmU6IHJvb20uc3RhdHVzID09PSAnZGViYXRpbmcnLFxuICAgICAgcGhhc2VUaW1lUmVtYWluaW5nOiBjYWxjdWxhdGVUaW1lUmVtYWluaW5nKHJvb20pLFxuICAgICAgaGVhbHRoU3RhdHVzOiB7XG4gICAgICAgIHBsYXllckE6IHtcbiAgICAgICAgICBoZWFsdGg6IHJvb20ucGxheWVyX2FfaGVhbHRoLFxuICAgICAgICAgIHBlcmNlbnRhZ2U6IHJvb20ucGxheWVyX2FfaGVhbHRoLFxuICAgICAgICAgIHN0YXR1czogZ2V0SGVhbHRoU3RhdHVzKHJvb20ucGxheWVyX2FfaGVhbHRoKVxuICAgICAgICB9LFxuICAgICAgICBwbGF5ZXJCOiB7XG4gICAgICAgICAgaGVhbHRoOiByb29tLnBsYXllcl9iX2hlYWx0aCxcbiAgICAgICAgICBwZXJjZW50YWdlOiByb29tLnBsYXllcl9iX2hlYWx0aCxcbiAgICAgICAgICBzdGF0dXM6IGdldEhlYWx0aFN0YXR1cyhyb29tLnBsYXllcl9iX2hlYWx0aClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihnYW1lU3RhdGUpXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignR2FtZSBzdGF0ZSBBUEkgZXJyb3I6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCBnYW1lIHN0YXRlJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKVxuICB9XG59XG5cbi8vIFN1Ym1pdCBhIGRlYmF0ZSBtZXNzYWdlXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChcbiAgcmVxdWVzdDogUmVxdWVzdCxcbiAgeyBwYXJhbXMgfTogeyBwYXJhbXM6IHsgcm9vbUlkOiBzdHJpbmcgfSB9XG4pIHtcbiAgdHJ5IHtcbiAgICBjb25zdCByb29tSWQgPSBwYXJhbXMucm9vbUlkXG4gICAgY29uc3QgeyBjb250ZW50LCBwbGF5ZXJTaWRlLCBwbGF5ZXJSb2xlLCB1c2VySWQgfSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG5cbiAgICBpZiAoIWNvbnRlbnQgfHwgIXBsYXllclNpZGUgfHwgIXBsYXllclJvbGUpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ01pc3NpbmcgcmVxdWlyZWQgZmllbGRzJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICAvLyBHZXQgcm9vbSB0byB2YWxpZGF0ZSBpdCdzIGluIGEgZGViYXRlIHBoYXNlXG4gICAgY29uc3QgeyBkYXRhOiByb29tLCBlcnJvcjogcm9vbUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3Jvb21zJylcbiAgICAgIC5zZWxlY3QoJ2N1cnJlbnRfcGhhc2UsIHN0YXR1cywgcGxheWVyX2FfbmFtZSwgcGxheWVyX2JfbmFtZScpXG4gICAgICAuZXEoJ2lkJywgcm9vbUlkKVxuICAgICAgLnNpbmdsZSgpXG5cbiAgICBpZiAocm9vbUVycm9yIHx8ICFyb29tKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdSb29tIG5vdCBmb3VuZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwNCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgaWYgKHJvb20uc3RhdHVzICE9PSAnZGViYXRpbmcnIHx8ICFyb29tLmN1cnJlbnRfcGhhc2UpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ1Jvb20gaXMgbm90IGluIGFjdGl2ZSBkZWJhdGUgcGhhc2UnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKVxuICAgIH1cblxuICAgIC8vIERldGVybWluZSBzZW5kZXIgbmFtZVxuICAgIGNvbnN0IHNlbmRlck5hbWUgPSBwbGF5ZXJSb2xlID09PSAncGxheWVyX2EnIFxuICAgICAgPyAocm9vbS5wbGF5ZXJfYV9uYW1lIHx8ICdQbGF5ZXIgQScpXG4gICAgICA6IChyb29tLnBsYXllcl9iX25hbWUgfHwgJ1BsYXllciBCJylcblxuICAgIC8vIEluc2VydCBtZXNzYWdlXG4gICAgY29uc3QgeyBkYXRhOiBtZXNzYWdlLCBlcnJvcjogbWVzc2FnZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ21lc3NhZ2VzJylcbiAgICAgIC5pbnNlcnQoe1xuICAgICAgICByb29tX2lkOiByb29tSWQsXG4gICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICAgICAgc2VuZGVyX25hbWU6IGAke3NlbmRlck5hbWV9ICgke3BsYXllclNpZGUudG9VcHBlckNhc2UoKX0pYCxcbiAgICAgICAgY29udGVudDogY29udGVudC50cmltKCksXG4gICAgICAgIHBoYXNlOiByb29tLmN1cnJlbnRfcGhhc2UsXG4gICAgICAgIHBsYXllcl9zaWRlOiBwbGF5ZXJTaWRlXG4gICAgICB9KVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKClcblxuICAgIGlmIChtZXNzYWdlRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBtZXNzYWdlOicsIG1lc3NhZ2VFcnJvcilcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBzYXZlIG1lc3NhZ2UnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxuICAgICAgc3VjY2VzczogdHJ1ZSwgXG4gICAgICBtZXNzYWdlLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9KVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1N1Ym1pdCBtZXNzYWdlIEFQSSBlcnJvcjonLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIHN1Ym1pdCBtZXNzYWdlJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKVxuICB9XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbnNcbmZ1bmN0aW9uIGdldEN1cnJlbnRUdXJuSW5mbyhyb29tOiBhbnkpIHtcbiAgaWYgKCFyb29tLmN1cnJlbnRfcGhhc2UgfHwgIXJvb20ucGhhc2Vfc3RhcnRfdGltZSB8fCAhcm9vbS5waGFzZV9kdXJhdGlvbikge1xuICAgIHJldHVybiB7IGN1cnJlbnRTcGVha2VyOiAnbm9uZScsIHRpbWVMZWZ0OiAwLCBjYW5TcGVhazogZmFsc2UgfVxuICB9XG5cbiAgY29uc3QgZWxhcHNlZCA9IE1hdGguZmxvb3IoKERhdGUubm93KCkgLSBuZXcgRGF0ZShyb29tLnBoYXNlX3N0YXJ0X3RpbWUpLmdldFRpbWUoKSkgLyAxMDAwKVxuICBjb25zdCB0aW1lTGVmdCA9IE1hdGgubWF4KDAsIHJvb20ucGhhc2VfZHVyYXRpb24gLSBlbGFwc2VkKVxuXG4gIC8vIERldGVybWluZSB3aG8gY2FuIHNwZWFrIGJhc2VkIG9uIHBoYXNlIGFuZCB0aW1pbmdcbiAgbGV0IGN1cnJlbnRTcGVha2VyID0gJ25vbmUnXG4gIGxldCBjYW5TcGVhayA9IGZhbHNlXG5cbiAgaWYgKHJvb20uY3VycmVudF9waGFzZSA9PT0gJ29wZW5pbmcnKSB7XG4gICAgaWYgKGVsYXBzZWQgPCAzMCkge1xuICAgICAgY3VycmVudFNwZWFrZXIgPSAncGxheWVyX2EnXG4gICAgICBjYW5TcGVhayA9IHRydWVcbiAgICB9IGVsc2UgaWYgKGVsYXBzZWQgPCA0MCkge1xuICAgICAgY3VycmVudFNwZWFrZXIgPSAndHJhbnNpdGlvbidcbiAgICAgIGNhblNwZWFrID0gZmFsc2VcbiAgICB9IGVsc2UgaWYgKGVsYXBzZWQgPCA3MCkge1xuICAgICAgY3VycmVudFNwZWFrZXIgPSAncGxheWVyX2InXG4gICAgICBjYW5TcGVhayA9IHRydWVcbiAgICB9XG4gIH0gZWxzZSBpZiAocm9vbS5jdXJyZW50X3BoYXNlID09PSAncmVidXR0YWwnKSB7XG4gICAgaWYgKGVsYXBzZWQgPCAzMCkge1xuICAgICAgY3VycmVudFNwZWFrZXIgPSAncGxheWVyX2InXG4gICAgICBjYW5TcGVhayA9IHRydWVcbiAgICB9IGVsc2UgaWYgKGVsYXBzZWQgPCA0MCkge1xuICAgICAgY3VycmVudFNwZWFrZXIgPSAndHJhbnNpdGlvbidcbiAgICAgIGNhblNwZWFrID0gZmFsc2VcbiAgICB9IGVsc2UgaWYgKGVsYXBzZWQgPCA3MCkge1xuICAgICAgY3VycmVudFNwZWFrZXIgPSAncGxheWVyX2EnXG4gICAgICBjYW5TcGVhayA9IHRydWVcbiAgICB9XG4gIH0gZWxzZSBpZiAocm9vbS5jdXJyZW50X3BoYXNlID09PSAnZmluYWwnKSB7XG4gICAgaWYgKGVsYXBzZWQgPCAzMCkge1xuICAgICAgY3VycmVudFNwZWFrZXIgPSAncGxheWVyX2EnXG4gICAgICBjYW5TcGVhayA9IHRydWVcbiAgICB9IGVsc2UgaWYgKGVsYXBzZWQgPCA0MCkge1xuICAgICAgY3VycmVudFNwZWFrZXIgPSAndHJhbnNpdGlvbidcbiAgICAgIGNhblNwZWFrID0gZmFsc2VcbiAgICB9IGVsc2UgaWYgKGVsYXBzZWQgPCA3MCkge1xuICAgICAgY3VycmVudFNwZWFrZXIgPSAncGxheWVyX2InXG4gICAgICBjYW5TcGVhayA9IHRydWVcbiAgICB9XG4gIH0gZWxzZSBpZiAocm9vbS5jdXJyZW50X3BoYXNlID09PSAnanVkZ2luZycpIHtcbiAgICBjdXJyZW50U3BlYWtlciA9ICdhaV9qdWRnZSdcbiAgICBjYW5TcGVhayA9IGZhbHNlXG4gIH1cblxuICByZXR1cm4geyBjdXJyZW50U3BlYWtlciwgdGltZUxlZnQsIGNhblNwZWFrIH1cbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlVGltZVJlbWFpbmluZyhyb29tOiBhbnkpOiBudW1iZXIge1xuICBpZiAoIXJvb20ucGhhc2Vfc3RhcnRfdGltZSB8fCAhcm9vbS5waGFzZV9kdXJhdGlvbikge1xuICAgIHJldHVybiAwXG4gIH1cbiAgXG4gIGNvbnN0IGVsYXBzZWQgPSBNYXRoLmZsb29yKChEYXRlLm5vdygpIC0gbmV3IERhdGUocm9vbS5waGFzZV9zdGFydF90aW1lKS5nZXRUaW1lKCkpIC8gMTAwMClcbiAgcmV0dXJuIE1hdGgubWF4KDAsIHJvb20ucGhhc2VfZHVyYXRpb24gLSBlbGFwc2VkKVxufVxuXG5mdW5jdGlvbiBnZXRIZWFsdGhTdGF0dXMoaGVhbHRoOiBudW1iZXIpOiBzdHJpbmcge1xuICBpZiAoaGVhbHRoID4gNzUpIHJldHVybiAnZXhjZWxsZW50J1xuICBpZiAoaGVhbHRoID4gNTApIHJldHVybiAnZ29vZCdcbiAgaWYgKGhlYWx0aCA+IDI1KSByZXR1cm4gJ2RhbWFnZWQnXG4gIGlmIChoZWFsdGggPiAwKSByZXR1cm4gJ2NyaXRpY2FsJ1xuICByZXR1cm4gJ2VsaW1pbmF0ZWQnXG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInN1cGFiYXNlIiwiR0VUIiwicmVxdWVzdCIsInBhcmFtcyIsInJvb21JZCIsImRhdGEiLCJyb29tIiwiZXJyb3IiLCJyb29tRXJyb3IiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJzaW5nbGUiLCJqc29uIiwic3RhdHVzIiwicm91bmRzIiwicm91bmRzRXJyb3IiLCJvcmRlciIsImFzY2VuZGluZyIsImxpbWl0IiwiY29uc29sZSIsInR1cm5JbmZvIiwiZ2V0Q3VycmVudFR1cm5JbmZvIiwiY291bnQiLCJtZXNzYWdlQ291bnQiLCJoZWFkIiwiY3VycmVudF9waGFzZSIsImdhbWVTdGF0ZSIsImlzR2FtZUFjdGl2ZSIsInBoYXNlVGltZVJlbWFpbmluZyIsImNhbGN1bGF0ZVRpbWVSZW1haW5pbmciLCJoZWFsdGhTdGF0dXMiLCJwbGF5ZXJBIiwiaGVhbHRoIiwicGxheWVyX2FfaGVhbHRoIiwicGVyY2VudGFnZSIsImdldEhlYWx0aFN0YXR1cyIsInBsYXllckIiLCJwbGF5ZXJfYl9oZWFsdGgiLCJQT1NUIiwiY29udGVudCIsInBsYXllclNpZGUiLCJwbGF5ZXJSb2xlIiwidXNlcklkIiwic2VuZGVyTmFtZSIsInBsYXllcl9hX25hbWUiLCJwbGF5ZXJfYl9uYW1lIiwibWVzc2FnZSIsIm1lc3NhZ2VFcnJvciIsImluc2VydCIsInJvb21faWQiLCJ1c2VyX2lkIiwic2VuZGVyX25hbWUiLCJ0b1VwcGVyQ2FzZSIsInRyaW0iLCJwaGFzZSIsInBsYXllcl9zaWRlIiwic3VjY2VzcyIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInBoYXNlX3N0YXJ0X3RpbWUiLCJwaGFzZV9kdXJhdGlvbiIsImN1cnJlbnRTcGVha2VyIiwidGltZUxlZnQiLCJjYW5TcGVhayIsImVsYXBzZWQiLCJNYXRoIiwiZmxvb3IiLCJub3ciLCJnZXRUaW1lIiwibWF4Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/game/[id]/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabase.ts":
/*!*****************************!*\
  !*** ./src/lib/supabase.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PHASE_CONFIGS: () => (/* binding */ PHASE_CONFIGS),\n/* harmony export */   getCurrentTurnInfo: () => (/* binding */ getCurrentTurnInfo),\n/* harmony export */   isPlayerTurn: () => (/* binding */ isPlayerTurn),\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nif (false) {}\nif (false) {}\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(\"https://avxxvsadfzbyaonzmnug.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF2eHh2c2FkZnpieWFvbnptbnVnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwNzg1NjQsImV4cCI6MjA2MzY1NDU2NH0.OyWXJYlj6tk2q5__Z_Fwh_HvQjtEs44mbFC8FY6d_nI\");\n// Game phase configurations\n// Update this in your src/lib/supabase.ts\n// Game phase configurations\nconst PHASE_CONFIGS = {\n    side_selection: {\n        duration: 10,\n        label: \"Side Selection\"\n    },\n    opening_prep: {\n        duration: 30,\n        label: \"Opening Prep\"\n    },\n    opening: {\n        duration: 70,\n        label: \"Opening Statements\"\n    },\n    rebuttal: {\n        duration: 70,\n        label: \"Rebuttals\"\n    },\n    crossfire: {\n        duration: 90,\n        label: \"Crossfire Q&A\"\n    },\n    final: {\n        duration: 60,\n        label: \"Final Arguments\"\n    },\n    judging: {\n        duration: 30,\n        label: \"AI Judging\"\n    }\n};\n// Helper function to determine if it's a player's turn\nfunction isPlayerTurn(phase, playerRole, phaseStartTime, phaseDuration) {\n    if (![\n        \"opening\",\n        \"rebuttal\",\n        \"final\"\n    ].includes(phase)) {\n        return true // Crossfire and other phases allow both players\n        ;\n    }\n    const elapsed = Math.floor((Date.now() - new Date(phaseStartTime).getTime()) / 1000);\n    if (phase === \"opening\") {\n        // Opening: 0-30s = Player A, 30-40s = Transition, 40-70s = Player B\n        if (elapsed < 30) {\n            return playerRole === \"player_a\";\n        } else if (elapsed < 40) {\n            return false // Transition period - no one speaks\n            ;\n        } else {\n            return playerRole === \"player_b\";\n        }\n    } else {\n        // Rebuttal and Final: 30s each player\n        const halfDuration = phaseDuration / 2;\n        if (elapsed < halfDuration) {\n            return playerRole === \"player_a\";\n        } else {\n            return playerRole === \"player_b\";\n        }\n    }\n}\n// Helper function to get current turn info\n// In src/lib/supabase.ts - Update this function\nfunction getCurrentTurnInfo(phase, phaseStartTime, phaseDuration) {\n    const elapsed = Math.floor((Date.now() - new Date(phaseStartTime).getTime()) / 1000);\n    if (phase === \"opening\") {\n        // Opening: Player A first, then transition, then Player B\n        if (elapsed < 30) {\n            return {\n                currentSpeaker: \"player_a\",\n                timeLeft: 30 - elapsed\n            };\n        } else if (elapsed < 40) {\n            return {\n                currentSpeaker: \"transition\",\n                timeLeft: 40 - elapsed\n            };\n        } else {\n            return {\n                currentSpeaker: \"player_b\",\n                timeLeft: 70 - elapsed\n            };\n        }\n    } else if (phase === \"rebuttal\") {\n        // Rebuttal: Player B first, then transition, then Player A\n        if (elapsed < 30) {\n            return {\n                currentSpeaker: \"player_b\",\n                timeLeft: 30 - elapsed\n            };\n        } else if (elapsed < 40) {\n            return {\n                currentSpeaker: \"transition\",\n                timeLeft: 40 - elapsed\n            };\n        } else {\n            return {\n                currentSpeaker: \"player_a\",\n                timeLeft: 70 - elapsed\n            };\n        }\n    }\n    return {\n        currentSpeaker: \"none\",\n        timeLeft: Math.max(0, phaseDuration - elapsed)\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkU7SUFBUztBQUNsRiIsInNvdXJjZXMiOlsid2VicGFjazovL2RlYmF0dGxlLy4vc3JjL2xpYi9zdXBhYmFzZS50cz8wNmUxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcydcblxuaWYgKCFwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIGVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwnKVxufVxuaWYgKCFwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZJylcbn1cblxuZXhwb3J0IGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KFxuICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwsXG4gIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZXG4pXG5cbi8vIFR5cGVzIGZvciBvdXIgZGF0YWJhc2UgdGFibGVzXG4vLyBVcGRhdGUgdGhlIFJvb20gdHlwZSBpbiBzcmMvbGliL3N1cGFiYXNlLnRzXG4vLyBSZXBsYWNlIHRoZSBleGlzdGluZyBSb29tIHR5cGUgd2l0aCB0aGlzIHVwZGF0ZWQgdmVyc2lvbjpcblxuZXhwb3J0IHR5cGUgUm9vbSA9IHtcbiAgaWQ6IHN0cmluZ1xuICBjcmVhdGVkX2F0OiBzdHJpbmdcbiAgc3RhdHVzOiAnd2FpdGluZycgfCAncmVhZHlfdG9fc3RhcnQnIHwgJ3NpZGVfc2VsZWN0aW9uJyB8ICdkZWJhdGluZycgfCAnZmluaXNoZWQnIC8vIEFkZGVkICdyZWFkeV90b19zdGFydCdcbiAgdG9waWM6IHN0cmluZ1xuICBwbGF5ZXJfYV9pZDogc3RyaW5nIHwgbnVsbFxuICBwbGF5ZXJfYl9pZDogc3RyaW5nIHwgbnVsbFxuICBwbGF5ZXJfYV9uYW1lOiBzdHJpbmcgfCBudWxsXG4gIHBsYXllcl9iX25hbWU6IHN0cmluZyB8IG51bGxcbiAgcGxheWVyX2FfcmVhZHk6IGJvb2xlYW4gfCBudWxsXG4gIHBsYXllcl9iX3JlYWR5OiBib29sZWFuIHwgbnVsbFxuICBcbiAgLy8gU2lkZSBzZWxlY3Rpb24gdm90aW5nXG4gIHBsYXllcl9hX3NpZGVfdm90ZTogJ3BybycgfCAnY29uJyB8IG51bGwgIC8vIFdoYXQgcGxheWVyIEEgdm90ZWQgZm9yXG4gIHBsYXllcl9iX3NpZGVfdm90ZTogJ3BybycgfCAnY29uJyB8IG51bGwgIC8vIFdoYXQgcGxheWVyIEIgdm90ZWQgZm9yXG4gIHBsYXllcl9hX3NpZGU6ICdwcm8nIHwgJ2NvbicgfCBudWxsICAgICAgIC8vIEZpbmFsIGFzc2lnbmVkIHNpZGVcbiAgcGxheWVyX2Jfc2lkZTogJ3BybycgfCAnY29uJyB8IG51bGwgICAgICAgLy8gRmluYWwgYXNzaWduZWQgc2lkZVxuICBzaWRlX3NlbGVjdGlvbl9kZWFkbGluZTogc3RyaW5nIHwgbnVsbCAgICAgLy8gV2hlbiB2b3RpbmcgZW5kc1xuICBcbiAgcGxheWVyX2FfaGVhbHRoOiBudW1iZXJcbiAgcGxheWVyX2JfaGVhbHRoOiBudW1iZXJcbiAgY3VycmVudF9waGFzZTogJ3NpZGVfc2VsZWN0aW9uJyB8ICdvcGVuaW5nX3ByZXAnIHwgJ29wZW5pbmcnIHwgJ3JlYnV0dGFsJyB8ICdjcm9zc2ZpcmUnIHwgJ2ZpbmFsJyB8ICdqdWRnaW5nJyB8IG51bGxcbiAgXG4gIC8vIFBoYXNlIHRpbWluZ1xuICBwaGFzZV9zdGFydF90aW1lOiBzdHJpbmcgfCBudWxsXG4gIHBoYXNlX2R1cmF0aW9uOiBudW1iZXIgfCBudWxsIC8vIER1cmF0aW9uIGluIHNlY29uZHNcbiAgXG4gIHdpbm5lcl9pZDogc3RyaW5nIHwgbnVsbFxuICB3aW5uZXJfbmFtZTogc3RyaW5nIHwgbnVsbFxufVxuXG5leHBvcnQgdHlwZSBNZXNzYWdlID0ge1xuICBpZDogc3RyaW5nXG4gIHJvb21faWQ6IHN0cmluZ1xuICB1c2VyX2lkOiBzdHJpbmcgfCBudWxsXG4gIHNlbmRlcl9uYW1lOiBzdHJpbmdcbiAgY29udGVudDogc3RyaW5nXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICBwaGFzZTogJ3NpZGVfc2VsZWN0aW9uJyB8ICdvcGVuaW5nX3ByZXAnIHwgJ29wZW5pbmcnIHwgJ3JlYnV0dGFsJyB8ICdjcm9zc2ZpcmUnIHwgJ2ZpbmFsJyB8ICdqdWRnaW5nJ1xuICBwbGF5ZXJfc2lkZTogJ3BybycgfCAnY29uJ1xufVxuXG5leHBvcnQgdHlwZSBEZWJhdGVSb3VuZCA9IHtcbiAgaWQ6IHN0cmluZ1xuICByb29tX2lkOiBzdHJpbmdcbiAgcGhhc2U6ICdvcGVuaW5nJyB8ICdyZWJ1dHRhbCcgfCAnY3Jvc3NmaXJlJyB8ICdmaW5hbCdcbiAgXG4gIC8vIEFJIEp1ZGdpbmcgUmVzdWx0c1xuICBhaV9qdWRnbWVudDogYW55IC8vIEpTT04gb2JqZWN0IHdpdGggZnVsbCBBSSByZXNwb25zZVxuICBwbGF5ZXJfYV9zY29yZTogbnVtYmVyIC8vIFNjb3JlIG91dCBvZiAxMDBcbiAgcGxheWVyX2Jfc2NvcmU6IG51bWJlciAvLyBTY29yZSBvdXQgb2YgMTAwXG4gIHdpbm5lcjogJ3BsYXllcl9hJyB8ICdwbGF5ZXJfYicgfCAndGllJyAvLyBSb3VuZCB3aW5uZXJcbiAgaGVhbHRoX2RhbWFnZTogbnVtYmVyIC8vIEhQIGxvc3QgYnkgbG9zaW5nIHBsYXllclxuICBcbiAgLy8gUGVyZm9ybWFuY2UgbWV0cmljcyAoMS0xMCBzY2FsZSlcbiAgcGxheWVyX2FfY2xhcml0eV9zY29yZTogbnVtYmVyXG4gIHBsYXllcl9hX2xvZ2ljX3Njb3JlOiBudW1iZXJcbiAgcGxheWVyX2FfcmVidXR0YWxfc2NvcmU6IG51bWJlclxuICBwbGF5ZXJfYV9wZXJzdWFzaW9uX3Njb3JlOiBudW1iZXJcbiAgXG4gIHBsYXllcl9iX2NsYXJpdHlfc2NvcmU6IG51bWJlclxuICBwbGF5ZXJfYl9sb2dpY19zY29yZTogbnVtYmVyXG4gIHBsYXllcl9iX3JlYnV0dGFsX3Njb3JlOiBudW1iZXJcbiAgcGxheWVyX2JfcGVyc3Vhc2lvbl9zY29yZTogbnVtYmVyXG4gIFxuICBjcmVhdGVkX2F0OiBzdHJpbmdcbn1cblxuZXhwb3J0IHR5cGUgVXNlciA9IHtcbiAgaWQ6IHN0cmluZ1xuICB1c2VybmFtZTogc3RyaW5nXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICB3aW5zOiBudW1iZXJcbiAgbG9zc2VzOiBudW1iZXJcbiAgdG90YWxfZGViYXRlczogbnVtYmVyXG59XG5cbi8vIEdhbWUgcGhhc2UgY29uZmlndXJhdGlvbnNcbi8vIFVwZGF0ZSB0aGlzIGluIHlvdXIgc3JjL2xpYi9zdXBhYmFzZS50c1xuXG4vLyBHYW1lIHBoYXNlIGNvbmZpZ3VyYXRpb25zXG5leHBvcnQgY29uc3QgUEhBU0VfQ09ORklHUyA9IHtcbiAgc2lkZV9zZWxlY3Rpb246IHsgZHVyYXRpb246IDEwLCBsYWJlbDogJ1NpZGUgU2VsZWN0aW9uJyB9LFxuICBvcGVuaW5nX3ByZXA6IHsgZHVyYXRpb246IDMwLCBsYWJlbDogJ09wZW5pbmcgUHJlcCcgfSxcbiAgb3BlbmluZzogeyBkdXJhdGlvbjogNzAsIGxhYmVsOiAnT3BlbmluZyBTdGF0ZW1lbnRzJyB9LCAvLyAzMHMgKyAxMHMgdHJhbnNpdGlvbiArIDMwc1xuICByZWJ1dHRhbDogeyBkdXJhdGlvbjogNzAsIGxhYmVsOiAnUmVidXR0YWxzJyB9LCAvLyAzMHMgKyAxMHMgdHJhbnNpdGlvbiArIDMwcyAoRklYRUQpXG4gIGNyb3NzZmlyZTogeyBkdXJhdGlvbjogOTAsIGxhYmVsOiAnQ3Jvc3NmaXJlIFEmQScgfSwgLy8gMS41IG1pbnV0ZXMgcmFwaWQgZmlyZVxuICBmaW5hbDogeyBkdXJhdGlvbjogNjAsIGxhYmVsOiAnRmluYWwgQXJndW1lbnRzJyB9LCAvLyAzMHMgZWFjaFxuICBqdWRnaW5nOiB7IGR1cmF0aW9uOiAzMCwgbGFiZWw6ICdBSSBKdWRnaW5nJyB9XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBkZXRlcm1pbmUgaWYgaXQncyBhIHBsYXllcidzIHR1cm5cbmV4cG9ydCBmdW5jdGlvbiBpc1BsYXllclR1cm4oXG4gIHBoYXNlOiBzdHJpbmcsIFxuICBwbGF5ZXJSb2xlOiAncGxheWVyX2EnIHwgJ3BsYXllcl9iJyxcbiAgcGhhc2VTdGFydFRpbWU6IHN0cmluZyxcbiAgcGhhc2VEdXJhdGlvbjogbnVtYmVyXG4pOiBib29sZWFuIHtcbiAgaWYgKCFbJ29wZW5pbmcnLCAncmVidXR0YWwnLCAnZmluYWwnXS5pbmNsdWRlcyhwaGFzZSkpIHtcbiAgICByZXR1cm4gdHJ1ZSAvLyBDcm9zc2ZpcmUgYW5kIG90aGVyIHBoYXNlcyBhbGxvdyBib3RoIHBsYXllcnNcbiAgfVxuICBcbiAgY29uc3QgZWxhcHNlZCA9IE1hdGguZmxvb3IoKERhdGUubm93KCkgLSBuZXcgRGF0ZShwaGFzZVN0YXJ0VGltZSkuZ2V0VGltZSgpKSAvIDEwMDApXG4gIFxuICBpZiAocGhhc2UgPT09ICdvcGVuaW5nJykge1xuICAgIC8vIE9wZW5pbmc6IDAtMzBzID0gUGxheWVyIEEsIDMwLTQwcyA9IFRyYW5zaXRpb24sIDQwLTcwcyA9IFBsYXllciBCXG4gICAgaWYgKGVsYXBzZWQgPCAzMCkge1xuICAgICAgcmV0dXJuIHBsYXllclJvbGUgPT09ICdwbGF5ZXJfYSdcbiAgICB9IGVsc2UgaWYgKGVsYXBzZWQgPCA0MCkge1xuICAgICAgcmV0dXJuIGZhbHNlIC8vIFRyYW5zaXRpb24gcGVyaW9kIC0gbm8gb25lIHNwZWFrc1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcGxheWVyUm9sZSA9PT0gJ3BsYXllcl9iJ1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBSZWJ1dHRhbCBhbmQgRmluYWw6IDMwcyBlYWNoIHBsYXllclxuICAgIGNvbnN0IGhhbGZEdXJhdGlvbiA9IHBoYXNlRHVyYXRpb24gLyAyXG4gICAgaWYgKGVsYXBzZWQgPCBoYWxmRHVyYXRpb24pIHtcbiAgICAgIHJldHVybiBwbGF5ZXJSb2xlID09PSAncGxheWVyX2EnXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBwbGF5ZXJSb2xlID09PSAncGxheWVyX2InXG4gICAgfVxuICB9XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgY3VycmVudCB0dXJuIGluZm9cbi8vIEluIHNyYy9saWIvc3VwYWJhc2UudHMgLSBVcGRhdGUgdGhpcyBmdW5jdGlvblxuZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbnRUdXJuSW5mbyhcbiAgcGhhc2U6IHN0cmluZyxcbiAgcGhhc2VTdGFydFRpbWU6IHN0cmluZyxcbiAgcGhhc2VEdXJhdGlvbjogbnVtYmVyXG4pOiB7IGN1cnJlbnRTcGVha2VyOiAncGxheWVyX2EnIHwgJ3BsYXllcl9iJyB8ICd0cmFuc2l0aW9uJyB8ICdub25lJywgdGltZUxlZnQ6IG51bWJlciB9IHtcbiAgY29uc3QgZWxhcHNlZCA9IE1hdGguZmxvb3IoKERhdGUubm93KCkgLSBuZXcgRGF0ZShwaGFzZVN0YXJ0VGltZSkuZ2V0VGltZSgpKSAvIDEwMDApXG4gIFxuICBpZiAocGhhc2UgPT09ICdvcGVuaW5nJykge1xuICAgIC8vIE9wZW5pbmc6IFBsYXllciBBIGZpcnN0LCB0aGVuIHRyYW5zaXRpb24sIHRoZW4gUGxheWVyIEJcbiAgICBpZiAoZWxhcHNlZCA8IDMwKSB7XG4gICAgICByZXR1cm4geyBjdXJyZW50U3BlYWtlcjogJ3BsYXllcl9hJywgdGltZUxlZnQ6IDMwIC0gZWxhcHNlZCB9XG4gICAgfSBlbHNlIGlmIChlbGFwc2VkIDwgNDApIHtcbiAgICAgIHJldHVybiB7IGN1cnJlbnRTcGVha2VyOiAndHJhbnNpdGlvbicsIHRpbWVMZWZ0OiA0MCAtIGVsYXBzZWQgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4geyBjdXJyZW50U3BlYWtlcjogJ3BsYXllcl9iJywgdGltZUxlZnQ6IDcwIC0gZWxhcHNlZCB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHBoYXNlID09PSAncmVidXR0YWwnKSB7XG4gICAgLy8gUmVidXR0YWw6IFBsYXllciBCIGZpcnN0LCB0aGVuIHRyYW5zaXRpb24sIHRoZW4gUGxheWVyIEFcbiAgICBpZiAoZWxhcHNlZCA8IDMwKSB7XG4gICAgICByZXR1cm4geyBjdXJyZW50U3BlYWtlcjogJ3BsYXllcl9iJywgdGltZUxlZnQ6IDMwIC0gZWxhcHNlZCB9XG4gICAgfSBlbHNlIGlmIChlbGFwc2VkIDwgNDApIHtcbiAgICAgIHJldHVybiB7IGN1cnJlbnRTcGVha2VyOiAndHJhbnNpdGlvbicsIHRpbWVMZWZ0OiA0MCAtIGVsYXBzZWQgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4geyBjdXJyZW50U3BlYWtlcjogJ3BsYXllcl9hJywgdGltZUxlZnQ6IDcwIC0gZWxhcHNlZCB9XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4geyBjdXJyZW50U3BlYWtlcjogJ25vbmUnLCB0aW1lTGVmdDogTWF0aC5tYXgoMCwgcGhhc2VEdXJhdGlvbiAtIGVsYXBzZWQpIH1cbn0iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50IiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIkVycm9yIiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJzdXBhYmFzZSIsIlBIQVNFX0NPTkZJR1MiLCJzaWRlX3NlbGVjdGlvbiIsImR1cmF0aW9uIiwibGFiZWwiLCJvcGVuaW5nX3ByZXAiLCJvcGVuaW5nIiwicmVidXR0YWwiLCJjcm9zc2ZpcmUiLCJmaW5hbCIsImp1ZGdpbmciLCJpc1BsYXllclR1cm4iLCJwaGFzZSIsInBsYXllclJvbGUiLCJwaGFzZVN0YXJ0VGltZSIsInBoYXNlRHVyYXRpb24iLCJpbmNsdWRlcyIsImVsYXBzZWQiLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwibm93IiwiZ2V0VGltZSIsImhhbGZEdXJhdGlvbiIsImdldEN1cnJlbnRUdXJuSW5mbyIsImN1cnJlbnRTcGVha2VyIiwidGltZUxlZnQiLCJtYXgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabase.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fgame%2F%5Bid%5D%2Froute&page=%2Fgame%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fgame%2F%5Bid%5D%2Froute.ts&appDir=%2FUsers%2Fbeenpam%2FDesktop%2FGitHub%2Fdebattle%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbeenpam%2FDesktop%2FGitHub%2Fdebattle&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();